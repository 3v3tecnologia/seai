(function(){var e={6700:function(e,a,t){var o={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function r(e){var a=l(e);return t(a)}function l(e){if(!t.o(o,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=l,e.exports=r,r.id=6700},3100:function(e,a,t){"use strict";var o=t(9242),r=t(3396),l=t(7139),i=t(4870),s=t(375);const n={class:"wrapper-logo"};var u=(0,r.aZ)({__name:"LogoProject",props:{titleSize:{type:String,default:"lg"}},setup(e){const a=e;return(e,t)=>{const o=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",n,[(0,r.Wm)(o,{to:{name:"users"}},{default:(0,r.w5)((()=>[(0,r._)("h1",{class:(0,l.C_)(["main-logo mb-0",a.titleSize])},"SEAI",2)])),_:1})])}}}),d=t(89);const c=(0,d.Z)(u,[["__scopeId","data-v-4a27584a"]]);var m=c,p=t(65),y=t(2483);const v=e=>((0,r.dD)("data-v-741cb3dd"),e=e(),(0,r.Cn)(),e),g={class:"wrapper-page d-flex flex-column flex-lg-row justify-content-center align-items-center justify-content-lg-center"},f={class:"d-flex flex-lg-column mt-4 mt-lg-0 align-items-center align-items-lg-start"},h=v((()=>(0,r._)("div",{class:"h4 mt-2 message-not-found"},"Página não encontrada",-1))),b={class:"mt-2"},_=v((()=>(0,r._)("div",{class:"d-flex flex-column align-items-end"},null,-1)));function T(e,a){const t=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",g,[(0,r._)("div",f,[h,(0,r._)("div",b,[(0,r.Wm)(t,{class:"rl-return h3 base-green",to:"/"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Retornar ")])),_:1})])]),_])}const E={},S=(0,d.Z)(E,[["render",T],["__scopeId","data-v-741cb3dd"]]);var w=S,C=t(6797),P=t.n(C),D=(t(7658),t(2801),t(1439),t(7585),t(5315),t(2062),t(4161)),A=t(672);const R=()=>{const e=new URL("http://seai.3v3.farm");return[e.protocol,e.hostname,`${e.protocol}//${e.hostname}`]},N=R(),V=N[2],x=80,B=`${V}:${x}/api/`,M=D.Z.create({baseURL:B,headers:{"Content-type":"application/json"}});M.interceptors.response.use((function(e){return e}),(function(e){return 401==e.response.status?A.Am.error("Sem permissão de acesso para este recurso"):404==e.response.status&&A.Am.error("Recurso não encontrado"),Promise.reject(e)}));var O=M;function k(e){return P()(e).format("YYYY-MM-DD")}function I(e,a){if(!e||!a&&![0,"0"].includes(a))return"";const t=a||0===a?a:P()().hour(),o=P()(e);o.set({hour:t});const r=o.format("YYYY-MM-DD HH:00");return r}function F(e){return P()(e).format("YYYY-MM-DD")}function U(e){return P()(e).hour()}const K=e=>({headers:{Authorization:`Bearer ${e}`}}),j=e=>e.map((e=>e.value)).join(""),L=(e,a)=>{let t=e;return"string"==typeof a?t[a]:(a?.forEach((e=>{t=t[e]})),t)};function H(e,a){const t=Y(e,a),o=Object.values(t),r=o.some((e=>null===e));return!r}const z=e=>{const a=["Estação","Pluviômetro"];return e.Location=e.Location?.Name,e.Organ=e.Organ.Name,e.Type=e.Type.Name||"station",e.NomeTipoEquipamento="pluviometer"===e.Type?a[1]:a[0],e};function q(e){const a=[];return Object.keys(e).forEach((t=>{if(e[t]){const o=["start","end"].includes(t)?k(e[t]):e[t];a.push(`${t}=${o}`)}})),a.length?`?${a.join("&")}`:""}const J=e=>({...e,Location:{Name:e.LocationName,Coordinates:[e.x,e.y]},Id:e.Id,IdEquipmentExternal:e.Code,Name:e.Name,Altitude:Number(e.Altitude),Fk_Organ:e.Organ.value,Fk_Type:e.NomeTipoEquipamento.value}),W=e=>O.defaults.headers.common["Authorization"]=`Bearer ${e}`,Y=(e,a)=>{if(!e)return e;const t=a??"valor",o=Object.keys(e);return o.forEach((a=>{(e[a]?.[t]||null===e[a]?.[t])&&(e[a]=e[a][t])})),e},$=e=>Y(e),G=e=>("bacia"===e.Tipo?e["Bacia"]=e["Nome"]:e["Municipio"]=e["Nome"],e),Q=(e,a)=>{const t=Object.keys(e),o=[];return t.forEach((t=>{const r=e[t].map((e=>("basin"===a?e.Bacia=t:e.Municipio=t,e)));o.push(...r)})),o},Z=e=>e._cell.value?P()(e._cell.value).format("DD/MM/YYYY HH:ss"):"",X=e=>({...e,id:e.Id,Title:e.Title,Description:e.Description,Auth:e.Author.Organ,Time:e.Time,Hour:e.Hour}),ee=e=>{const a=e.replace(/^data:text\/html;charset=utf-8;base64,/,""),t=atob(a);return t},ae=e=>{const a=e.data,t=new TextDecoder("utf-8"),o=t.decode(new Uint8Array(a));return ee(o)},te=(e="")=>{const a=btoa(unescape(encodeURIComponent(e))),t=`data:text/html;charset=utf-8;base64,${a}`;return t},oe=e=>(P().locale("pt-br"),P()(e).format()),re=e=>{const a={};for(let t=0;t<e.length;t++){const o=e[t];a[o.key]=o.value}return a},le=(e,a={})=>{const t={idEquipment:a._itemId,start:a.start,end:a.end,pageNumber:a.pageNumber};return`${e}${q(t)}`},ie=10,se={title:"Todos",key:"Todos",value:null},ne={itemPerPage:5},ue=ne.itemPerPage,de={1:"basin",2:"county",3:"consumption"},ce=[{key:"0 0 * * *",value:"Diariamente (00:00)"},{key:"0 * * * *",value:"A cada início de hora"}],me=[{key:"created",value:"Criado"},{key:"completed",value:"Completado"},{key:"retry",value:"Tentando novamente"},{key:"active",value:"Em execução"},{key:"completed",value:"Completado"},{key:"expired",value:"Expirado"},{key:"cancelled",value:"Cancelado"},{key:"failed",value:"Execução falhou"}],pe=re(ce),ye=re(me),ve={name:"",cron:"0 0 * * *",timezone:"America/Fortaleza",data:null,tz:"America/Fortaleza",priority:2,retryDelay:60,retryLimit:3,created_on:"",updated_on:""},ge={SendDate:P()().add(1,"days").format()},fe={timezone:"America/Fortaleza",priority:2,retrydelay:60,retrylimit:3},he={edit:"Editar",create:"Criar"},be={jobs:"jobs",register:"register",user:"user",news:"news"},_e={read:"read",write:"write"},Te="Plantio",Ee={key:0},Se={class:"wrapper-input position-relative"},we=["disabled","minlength","type","placeholder"],Ce={key:0,class:"pi pi-search pr-2 d-flex position-absolute",style:"\n          color: #708090;\n          right: 0; top: 0;\n          bottom: 0;\n          display: flex;\n          pointer-events: none;\n          align-items: center;\n        "};var Pe=(0,r.aZ)({__name:"BaseInput",props:{label:String,placeholder:String,modelValue:String,inputRequired:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},removeMargin:{type:Boolean,default:!1},inputType:{type:String,default:"text"},minLength:{type:Number,default:0}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e,s=(0,i.iH)("");return(0,r.YP)(s,(e=>{a("update:modelValue",e)})),(0,r.YP)((()=>t.modelValue),(e=>{s.value=e||""}),{immediate:!0}),(a,t)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,l.C_)(["form-group",{"mb-0":e.removeMargin}])},[(0,r.WI)(a.$slots,"default"),e.label?((0,r.wg)(),(0,r.iD)("label",Ee,(0,l.zw)(e.label),1)):(0,r.kq)("",!0),(0,r._)("div",Se,[(0,r.wy)((0,r._)("input",{style:{height:"49.6px"},disabled:e.disabled,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),minlength:e.minLength,type:e.inputType,class:"form-control",placeholder:e.placeholder},null,8,we),[[o.YZ,s.value]]),e.showIcon?((0,r.wg)(),(0,r.iD)("i",Ce)):(0,r.kq)("",!0)])],2))}});const De=(0,d.Z)(Pe,[["__scopeId","data-v-2b3f2ba2"]]);var Ae=De,Re=t(2164);const Ne={for:"dd-city"};var Ve=(0,r.aZ)({__name:"BaseDropdown",props:{label:String,modelValue:Object,inputRequired:{type:Boolean,default:!0},extraMarginTop:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},inlineLabel:{type:Boolean,default:!1},width:{type:String,default:"150px"},placeholder:{type:String,default:""},multiple:{type:Boolean,default:!1},removeMargin:{type:Boolean,default:!1},options:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e,o=(0,i.iH)({});return(0,r.YP)((()=>t.modelValue),(e=>{o.value=e}),{immediate:!0}),(0,r.YP)(o,(e=>{a("update:modelValue",e)})),(a,t)=>((0,r.wg)(),(0,r.iD)("span",{class:(0,l.C_)(["p-float-label",{"mt-4 mt-lg-5":e.extraMarginTop}])},[(0,r.Wm)((0,i.SU)(Re.Z),{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),disabled:e.disabled,options:e.options,optionLabel:"title",class:"wrapper-dropdown",placeholder:e.placeholder,style:(0,l.j5)(`max-width: ${e.width}; min-width: ${e.width};`)},null,8,["modelValue","disabled","options","placeholder","style"]),(0,r._)("label",Ne,(0,l.zw)(e.placeholder),1)],2))}});const xe=(0,d.Z)(Ve,[["__scopeId","data-v-d73e9886"]]);var Be=xe,Me=t(4695);const Oe={class:"p-float-label"},ke={for:"dd-city"};var Ie={__name:"BaseCheckBox",props:{label:String,modelValue:Object,inputRequired:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},inlineLabel:{type:Boolean,default:!1},placeholder:{type:String,default:""},multiple:{type:Boolean,default:!1},removeMargin:{type:Boolean,default:!1},options:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e,o=((0,i.iH)(null),(0,i.iH)([]));return(0,r.YP)(o,(e=>{a("update:modelValue",e)})),(0,r.YP)((()=>t.modelValue),(e=>{o.value=e}),{immediate:!0}),(a,t)=>((0,r.wg)(),(0,r.iD)("span",Oe,[(0,r.Wm)((0,i.SU)(Me.Z),{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),options:e.options,optionLabel:"title",placeholder:e.placeholder,class:"wrapper-check",disabled:e.disabled,display:"chip"},null,8,["modelValue","options","placeholder","disabled"]),(0,r._)("label",ke,(0,l.zw)(e.placeholder)+" "+(0,l.zw)(o.value?.length?`(${o.value.length})`:""),1)]))}};const Fe=(0,d.Z)(Ie,[["__scopeId","data-v-dcc9402c"]]);var Ue=Fe;const Ke=["onKeydown"],je={class:"d-lg-flex align-items-center ml-n3 mt-n4 mt-lg-0"},Le={class:"d-flex ml-3 mt-4 mt-lg-0"},He=["disabled"];var ze={__name:"FiltersData",props:{searchFilter:{type:Object,required:!1,default:null},filtersDropdown:{type:Array,required:!1,default:()=>[]},modelValue:{type:Object,required:!1,default:()=>({})},isLoading:{type:Boolean,required:!1,default:!1},filtersCheckbox:{type:Array,required:!1,default:()=>[]},disabledSubmit:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue","tempValues"],setup(e,{emit:a}){const t=e,l=(0,i.iH)({}),s=(0,i.iH)({}),n=(e={})=>{s.value=e,t.filtersDropdown.forEach((e=>{s.value[e.key]=e.options[0]})),l.value=JSON.parse(JSON.stringify(e))},u=()=>{t.filtersCheckbox.forEach((e=>{s.value[e.key]=[]}))},d=(0,r.Fl)((()=>t.disabledSubmit||!y.value)),c=()=>{d.value||(s.value=JSON.parse(JSON.stringify(l.value)))},m=e=>{const a=e.dependsOn,t=l.value?.[a?.key];if(!a||!t?.length)return e.options;const o=t.map((e=>e.value)),r={};return o.forEach((e=>r[e]=!0)),e.options.filter((e=>r[e[a.value]]))},p=e=>Object.values(e).filter((e=>e)).map((e=>"string"===typeof e?e:e.length?e.map((e=>e.value)).join(""):e?.value)).join(""),y=(0,r.Fl)((()=>{const e=p(l.value),a=p(s.value);return a!=e}));return u(),n(t.modelValue),(0,r.YP)((()=>s.value),(e=>{a("update:modelValue",e)}),{deep:!0}),(0,r.YP)((()=>t.modelValue),(e=>l.value=JSON.parse(JSON.stringify(e))),{deep:!0}),(0,r.YP)((()=>l.value),(e=>{const o=t.filtersCheckbox.filter((e=>e.dependsOn));o.forEach((a=>{const t=a.dependsOn,o=l.value?.[t?.key];if(!t||!o?.length)return;const r={};o.forEach((e=>r[e.value]=!0)),e[a.key]=e[a.key]?.filter((e=>r[e[t.value]]))})),a("tempValues",e)}),{deep:!0}),(0,r.YP)((()=>t.filtersDropdown),(e=>{e.forEach((e=>{if(!l.value[e.key])return;const a=!e.options.find((a=>a.value==l.value[e.key].value));a&&(l.value[e.key]=e.options[0])}))})),(a,t)=>((0,r.wg)(),(0,r.iD)("div",{class:"d-flex flex-column flex-lg-row align-items-start align-items-lg-center",onKeydown:(0,o.D2)(c,["enter"])},[(0,r._)("div",je,[e.searchFilter?((0,r.wg)(),(0,r.j4)(Ae,{key:0,"remove-margin":"",modelValue:l.value[e.searchFilter.key],"onUpdate:modelValue":t[0]||(t[0]=a=>l.value[e.searchFilter.key]=a),placeholder:e.searchFilter.label||"Buscar","input-type":"text","show-icon":"",class:"mb-lg-0 ml-3 mt-3 mt-lg-0"},null,8,["modelValue","placeholder"])):(0,r.kq)("",!0),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.filtersDropdown,(e=>((0,r.wg)(),(0,r.j4)(Be,{modelValue:l.value[e.key],"onUpdate:modelValue":a=>l.value[e.key]=a,key:e.key,options:e.options,placeholder:e.label,class:"d-flex ml-3 mt-4 mt-lg-0"},null,8,["modelValue","onUpdate:modelValue","options","placeholder"])))),128)),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.filtersCheckbox,(e=>((0,r.wg)(),(0,r.j4)(Ue,{modelValue:l.value[e.key],"onUpdate:modelValue":a=>l.value[e.key]=a,key:e.key,"remove-margin":"",disabled:e.isDisabled,options:m(e),label:e.label,placeholder:e.label,class:"ml-3 mt-3 mt-lg-0"},null,8,["modelValue","onUpdate:modelValue","disabled","options","label","placeholder"])))),128)),(0,r._)("div",Le,[(0,r._)("button",{onClick:c,disabled:d.value,class:"btn btn-success px-2 py-2"}," Buscar dados ",8,He)])])],40,Ke))}};const qe=ze;var Je=qe;const We={class:"px-4 px-lg-5 mx-lg-5"};function Ye(e,a){return(0,r.wg)(),(0,r.iD)("div",We,[(0,r.WI)(e.$slots,"default")])}const $e={},Ge=(0,d.Z)($e,[["render",Ye]]);var Qe=Ge,Ze={titleKey:{type:String,required:!0},fields:{type:Array,default:()=>[]},chips:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},searchTerm:{type:String,default:""}},Xe={item:{type:Object,default:()=>({})},...Ze};const ea=e=>((0,r.dD)("data-v-c3690c1a"),e=e(),(0,r.Cn)(),e),aa={class:"wrapper-card-management d-flex flex-column align-items-start p-4 h-100"},ta={class:"overlay-actions d-flex align-items-end",style:{background:"linear-gradient(\n            0deg,\n            rgb(0 0 0 / 35%),\n            rgba(101, 101, 108, 0) 80%\n          )\n          no-repeat"}},oa={class:"d-flex align-items-end justify-content-between w-100 p-4"},ra=ea((()=>(0,r._)("span",{class:"mr-2"}," Editar ",-1))),la=ea((()=>(0,r._)("span",{class:"mr-2"}," Excluir ",-1))),ia={class:"d-flex align-items-center justify-content-between w-100"},sa={class:"mb-0"},na=ea((()=>(0,r._)("div",{class:"my-3"},null,-1))),ua={class:"card-fields d-flex flex-column align-items-start w-100"},da={class:"label text-left"},ca={class:"key"};var ma={__name:"CardManagement",props:Xe,emits:["selected-item"],setup(e,{emit:a}){const t=e,o=e=>e.charCodeAt(),i=()=>a("selected-item",t.item),s=e=>e?.split(" ")?.[0]?.split("").map(o).reduce(((e,a)=>e+a)),n=e=>{const a=s(t.item[e.key]),o="hsl("+a+",80.9%,40.02%)";return`background-color: ${o}`};return(e,a)=>{const t=(0,r.up)("font-awesome-icon"),o=(0,r.up)("router-link"),s=(0,r.Q2)("tooltip");return(0,r.wg)(),(0,r.iD)("div",aa,[(0,r._)("div",ta,[(0,r._)("div",oa,[(0,r.Wm)(o,{to:{name:"edit-culture",params:{id:e.item.id||e.item.Id}},class:"btn btn-info d-flex align-items-center"},{default:(0,r.w5)((()=>[ra,(0,r.Wm)(t,{class:"text-white",icon:"fa-solid fa-pen"})])),_:1},8,["to"]),(0,r._)("button",{onClick:i,class:"btn btn-danger d-flex align-items-center ml-lg-2 mt-2 mt-lg-0",type:"button","data-toggle":"modal","data-target":"#exampleModal"},[la,(0,r.Wm)(t,{class:"text-white",icon:"fa-solid fa-trash"})])])]),(0,r._)("div",ia,[(0,r.wy)(((0,r.wg)(),(0,r.iD)("h5",sa,[(0,r.Uk)((0,l.zw)(e.item[e.titleKey]),1)])),[[s,{value:e.item[e.titleKey],showDelay:1e3,hideDelay:300}]]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.chips,(a=>(0,r.wy)(((0,r.wg)(),(0,r.iD)("span",{class:"card-chip",key:a.key,style:(0,l.j5)(n(a))},[(0,r.Uk)((0,l.zw)(e.item[a.key]),1)],4)),[[s,{value:e.item[a.key],showDelay:1e3,hideDelay:300}]]))),128))]),na,(0,r._)("div",ua,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.fields,((a,t)=>((0,r.wg)(),(0,r.iD)("div",{key:a.label,class:(0,l.C_)([{"mt-1":t},"card-field w-100 d-flex justify-content-between align-items-center"])},[(0,r._)("span",da,(0,l.zw)(a.label)+": ",1),(0,r._)("span",ca,(0,l.zw)(e.item[a.key]),1)],2)))),128))])])}}};const pa=(0,d.Z)(ma,[["__scopeId","data-v-c3690c1a"]]);var ya=pa;const va={class:"modal fade",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ga={class:"modal-dialog",role:"document"},fa={class:"modal-content"},ha=(0,r._)("div",{class:"modal-header"},[(0,r._)("h5",{class:"modal-title",id:"exampleModalLabel"},"Confirmar deleção"),(0,r._)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[(0,r._)("span",{"aria-hidden":"true"},"×")])],-1),ba={class:"modal-body"},_a={key:0},Ta=(0,r._)("span",{class:"font-weight-bold"},"1",-1),Ea={key:1},Sa={class:"font-weight-bold"},wa=(0,r._)("div",null,"Este processo não poderá ser desfeito.",-1);var Ca={__name:"DeleteModal",props:{showModal:{type:Boolean,default:!1},getDataKey:{type:String,required:!0},deleteDataKey:{type:String,required:!0},actionText:{type:String,required:!0},users:{type:Array,default:()=>[]}},emits:["close-modal"],setup(e,{emit:a}){const t=e,o=(0,p.oR)(),i=(0,r.Fl)((()=>t.users.map((e=>e.id||e.Id)))),s=async()=>{await o.dispatch(t.deleteDataKey,i.value),await o.dispatch(t.getDataKey,i.value)},n=()=>a("close-modal");return(a,o)=>((0,r.wg)(),(0,r.iD)("div",va,[(0,r._)("div",ga,[(0,r._)("div",fa,[ha,(0,r._)("div",ba,[1===t.users.length?((0,r.wg)(),(0,r.iD)("div",_a,[(0,r.Uk)(" Será deletado/a "),Ta,(0,r.Uk)(" "+(0,l.zw)(e.actionText)+" selecionado/a. ",1)])):((0,r.wg)(),(0,r.iD)("div",Ea,[(0,r.Uk)(" Serão deletados/as "),(0,r._)("span",Sa,(0,l.zw)(t.users.length),1),(0,r.Uk)(" "+(0,l.zw)(e.actionText)+"s selecionados/as. ",1)])),wa]),(0,r._)("div",{class:"modal-footer"},[(0,r._)("button",{onClick:n,type:"button",class:"btn btn-secondary","data-dismiss":"modal"}," Cancelar "),(0,r._)("button",{type:"button",class:"btn btn-danger","data-dismiss":"modal",onClick:s}," Confirmar ")])])])]))}};const Pa=Ca;var Da=Pa;const Aa={class:"row"},Ra={key:1,class:"ml-3 h5"};var Na={__name:"ListCardManagement",props:Ze,setup(e){const a=e,t=(0,p.oR)(),o=(0,i.iH)(!1),s=(0,i.iH)([]),n=e=>e.id||e.Id,u=(0,r.Fl)((()=>{const e={};return a.filters.hydrographicBasinTemp.forEach((a=>e[a.title]=!0)),e})),d=e=>{o.value=!0,s.value=[e]},c=()=>{o.value=!1,s.value=[]},m=(0,r.Fl)((()=>t.state.culture.list.data.filter((e=>a.filters.hydrographicBasinTemp?.length?u.value[e.Basin]:e))));return(e,t)=>((0,r.wg)(),(0,r.iD)("div",Aa,[o.value?((0,r.wg)(),(0,r.j4)(Da,{key:0,onCloseModal:c,users:s.value,"action-text":"cultura","get-data-key":"GET_CULTURES","delete-data-key":"DELETE_CULTURES"},null,8,["users"])):(0,r.kq)("",!0),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(m.value,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:n(e),class:(0,l.C_)(["col-lg-3 mt-lg-4",{"mt-4":t}])},[(0,r.Wm)(ya,(0,r.dG)(a,{item:e,onSelectedItem:d}),null,16,["item"])],2)))),128)),m.value.length?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",Ra," Sem dados a exibir para a busca atual "))]))}};const Va=Na;var xa=Va;const Ba={class:"mb-5 pb-lg-5"},Ma={class:"w-100 d-flex"},Oa=(0,r._)("span",{class:"mr-lg-2 d-none d-lg-inline-block"}," Criar ",-1);var ka={__name:"ManagementRegister",props:Ze,setup(e){const a=e,t=(0,p.oR)(),o=(0,i.iH)({});let l=(0,i.iH)("Trigo");t.dispatch("FETCH_PLACES_OPTIONS");(0,r.Fl)((()=>t.state.report.hydrographicBasinOptions));const s=e=>t.dispatch("GET_CULTURES",e);s();const n={label:"Buscar por nome de  cultura",key:"searchFilterTemp"},u=(0,r.Fl)((()=>!1));function d(e){l=e.searchFilterTemp,s(l)}return(e,t)=>{const s=(0,r.up)("font-awesome-icon"),c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",Ba,[(0,r.Wm)(Qe,null,{default:(0,r.w5)((()=>[(0,r.Wm)(Je,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),"search-filter":n,"disabled-submit":u.value,class:"mb-5",onTempValues:d},null,8,["modelValue","disabled-submit"]),(0,r._)("div",Ma,[(0,r.Wm)(c,{to:{name:"create-culture"},class:"btn btn-success text-white px-4 py-2"},{default:(0,r.w5)((()=>[Oa,(0,r.Wm)(s,{class:"text-white",icon:"fa-solid fa-plus"})])),_:1})]),(0,r.Wm)(xa,(0,r.dG)(a,{filters:o.value,searchTerm:(0,i.SU)(l)}),null,16,["filters","searchTerm"])])),_:1})])}}};const Ia=ka;var Fa=Ia;const Ua=["name"],Ka=[{label:"Recorrência",field:"cron_text_formatted",getListKey:"FETCH_CRON_OPTIONS",getterKey:"cronOptions"}];var ja={actionText:"rotina",getDataKey:"GET_CRONS",hasApiFilters:!0,deleteDataKey:"DELETE_CRONS",storeDataKey:["cron","list"],filters:[],titleKey:"Name",searchFilter:Ua,stateFilters:Ka,actionRoutes:{edit:"edit-cron",create:"create-cron"},headerLabels:[],chips:[{key:"Basin"}],fields:[{label:"Total de ciclos ETR",key:"Etr_Cycle_Total"},{label:"Total de ciclos ETP",key:"Etp_Cycle_Total"},{label:"Total ET0 do ciclo",key:"Et0_Total"},{label:"ETP máximo do ciclo",key:"Etp_Cycle_Maximium"}]};const La={fields:[{label:"Nome",formKey:"Name",type:"text"},{formKey:"cycle",colSize:12,component:{name:"CreateFarmDap",props:{label:"",columns:[{title:"Estágio",field:"Stage_Title",editor:"input",mutator:(e,a,t,o,r)=>e&&e.length>=50?e.slice(50):e||Te},{title:"id",field:"id",visible:!1},{title:"Duração (dias)",field:"Duration_In_Days",editor:"number",mutator:e=>e&&e>0?Math.floor(e):1,editorParams:{min:1}},{title:"KC",field:"KC",editor:"number",editorParams:{min:.1,step:.1},mutator:e=>e>0?e:0}]}}}]},Ha="",za="CREATE_CULTURE",qa="",Ja="Criando cultura",Wa={text:"Retornar a listagem de culturas",routeName:"culture"};var Ya={getDataKey:Ha,storeDataKey:qa,submitDataKey:za,finishedDataButton:Wa,headerLabel:Ja,fields:La.fields};const $a="GET_CURRENT_CULTURE",Ga="UPDATE_CULTURE",Qa=["culture","update"],Za="Editando cultura",Xa={text:"Retornar a listagem de culturas",routeName:"culture"};var et={getDataKey:$a,storeDataKey:Qa,submitDataKey:Ga,finishedDataButton:Xa,headerLabel:Za,fields:La.fields};const at={class:"position-relative w-100 mt-4"},tt={class:"row mb-2"},ot=(0,r._)("div",{class:"col-2"},[(0,r._)("h3",{class:"text-left"},"Ciclos")],-1),rt={class:"col-1"},lt=(0,r._)("i",{class:"pi pi-plus pr-2e"},null,-1),it=[lt],st={class:"col-1"},nt=(0,r._)("i",{class:"pi pi-trash pr-2e"},null,-1),ut=[nt],dt={key:0,class:"col-4"},ct=(0,r._)("small",{class:"text-danger"},"Preencha todos os campos obrigatórios",-1),mt=[ct],pt={class:"form-group form-group-text p-float-label"},yt=(0,r._)("label",{for:"estagio",class:"font-weight-bold"},"Nome do estágio",-1),vt={class:"form-group form-group-number p-float-label"},gt=(0,r._)("label",{for:"kc",class:"font-weight-bold"},"Dia inicial",-1),ft={class:"form-group form-group-number p-float-label"},ht=(0,r._)("label",{for:"kc",class:"font-weight-bold"},"Dia final",-1),bt={class:"form-group form-group-number p-float-label"},_t=(0,r._)("label",{for:"kc",class:"font-weight-bold"},"KC",-1),Tt={class:"form-group form-group-increment p-float-label"},Et=(0,r._)("label",{for:"kc",class:"font-weight-bold"},"Incremento",-1);var St={__name:"CreateFarmDap",props:{cycle:{type:Array,required:!1,default:()=>[]},cycleError:{type:Boolean,default:!0}},emits:["onSaveCycle"],setup(e,{emit:a}){const t=e,o=(0,i.iH)();function s(){const e={Stage:o.value.length+1,Title:"",Start:null,End:null,KC:null,Increment:null};o.value.push(e)}function n(){o.value.length>1&&o.value.pop()}return(0,r.bv)((()=>{o.value=t.cycle,0===o.value.length&&s()})),(0,r.YP)((()=>o.value),((e,t)=>{a("onSaveCycle",e)}),{deep:!0}),(a,t)=>{const i=(0,r.up)("InputText"),u=(0,r.up)("InputNumber"),d=(0,r.Q2)("tooltip");return(0,r.wg)(),(0,r.iD)("div",at,[(0,r._)("div",tt,[ot,(0,r._)("div",rt,[(0,r.wy)(((0,r.wg)(),(0,r.iD)("button",{type:"button",class:"btn btn-primary w-25",onClick:t[0]||(t[0]=e=>s()),style:{minWidth:"50px"}},it)),[[d,{value:"Adicionar estágio",showDelay:1e3,hideDelay:300},void 0,{left:!0}]])]),(0,r._)("div",st,[(0,r.wy)(((0,r.wg)(),(0,r.iD)("button",{type:"button",class:"btn btn-danger mr-4 w-25",onClick:t[1]||(t[1]=e=>n()),style:{minWidth:"50px"}},ut)),[[d,{value:"Remover estágio",showDelay:1e3,hideDelay:300},void 0,{left:!0}]])]),e.cycleError?((0,r.wg)(),(0,r.iD)("div",dt,mt)):(0,r.kq)("",!0)]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.value,((a,t)=>((0,r.wg)(),(0,r.iD)("form",{class:"mt-4 formulario",key:t},[(0,r._)("div",pt,[(0,r.Wm)(i,{id:"estagio","aria-describedby":"estagio-help",modelValue:a.Title,"onUpdate:modelValue":e=>a.Title=e,class:(0,l.C_)("w-100 "+(e.cycleError&&!a.Title?"invalidInput":""))},null,8,["modelValue","onUpdate:modelValue","class"]),yt]),(0,r._)("div",vt,[(0,r.Wm)(u,{modelValue:a.Start,"onUpdate:modelValue":e=>a.Start=e,id:"kc","aria-describedby":"kc-help",class:(0,l.C_)("w-100 "+(e.cycleError&&!a.Start?"invalidInput":""))},null,8,["modelValue","onUpdate:modelValue","class"]),gt]),(0,r._)("div",ft,[(0,r.Wm)(u,{modelValue:a.End,"onUpdate:modelValue":e=>a.End=e,id:"kc","aria-describedby":"kc-help",class:(0,l.C_)("w-100 "+(e.cycleError&&!a.End?"invalidInput":""))},null,8,["modelValue","onUpdate:modelValue","class"]),ht]),(0,r._)("div",bt,[(0,r.Wm)(u,{modelValue:a.KC,"onUpdate:modelValue":e=>a.KC=e,id:"kc","aria-describedby":"kc-help",class:(0,l.C_)("w-100 "+(e.cycleError&&!a.KC?"invalidInput":""))},null,8,["modelValue","onUpdate:modelValue","class"]),_t]),(0,r._)("div",Tt,[(0,r.Wm)(u,{modelValue:a.Increment,"onUpdate:modelValue":e=>a.Increment=e,id:"kc","aria-describedby":"kc-help",class:(0,l.C_)("w-100 "+(e.cycleError&&!a.Increment?"invalidInput":""))},null,8,["modelValue","onUpdate:modelValue","class"]),Et])])))),128))])}}};const wt=St;var Ct=wt,Pt=(0,r.aZ)({__name:"PrimaryButton",props:{text:String},emits:["click"],setup(e,{emit:a}){const t=e,o=e=>{a("click",e)};return(e,a)=>((0,r.wg)(),(0,r.iD)("button",{onClick:o,type:"submit",class:"btn btn-success px-4 py-2 btn-block"},(0,l.zw)(t.text),1))}});const Dt=(0,d.Z)(Pt,[["__scopeId","data-v-c2a80b72"]]);var At=Dt;class Rt{async getById(e){return await O.get(`v2/management/crop/${e}`)}async create(e){return await O.post("v2/management/crop",e)}async update(e,a){return await O.put(`v2/management/crop/${e}`,a)}}class Nt{async getByCultureId(e){return await O.get(`v2/management/crop/cycles/${e}`)}async createByCultureId(e,a){return await O.post(`v2/management/crop/cycles/${e}`,{data:a})}}const Vt={key:0},xt=(0,r._)("div",{class:"spinner-border text-primary",role:"status"},[(0,r._)("span",{class:"sr-only"},"Loading...")],-1),Bt=[xt],Mt={key:1,class:"container wrapper-form p-2"},Ot={class:"text-left"},kt={class:"form-group form-group-text text-left p-float-label mt-4"},It=(0,r._)("label",{for:"culture-name",class:"font-weight-bold"},"Nome",-1),Ft={class:"mt-4"},Ut={class:"mt-4"};var Kt={__name:"CultureForm",setup(e){const a=(0,y.tv)(),t=new Rt,o=new Nt,s=(0,i.iH)(!1),n=(0,i.iH)(!1),u=(0,i.iH)(!1),d=(0,i.iH)({}),c=(0,i.iH)([]),m=(0,i.iH)(0),p=(0,i.iH)("Criar cultura"),v=(0,i.iH)(!1);function g(){if(a.currentRoute.value.params.id){const e=Number(a.currentRoute.value.params.id);isNaN(e)?a.push("create-culture"):(m.value=e,v.value=!0,p.value="Editar cultura",f(m.value))}}function f(e){s.value=!0,t.getById(e).then((a=>{const{data:t}=a;d.value=t.data,h(e)}))}function h(e){o.getByCultureId(e).then((e=>{const{data:a}=e;c.value=a.data,s.value=!1}))}function b(e){e.value=e}function _(){n.value=!0,u.value=w(),u.value?n.value=!1:v.value?E():T()}function T(){t.create(d.value).then((e=>{const{data:a}=e;S(a.data)}))}function E(){t.update(m.value,d.value).then((e=>{S(m.value)}))}function S(e){o.createByCultureId(e,c.value).then((e=>{n.value=!1,a.push({name:"culture"})}))}function w(){let e=!1;if(c.value)for(const a of c.value)a.Title&&a.Start&&a.End&&a.KC&&a.Increment||(e=!0);else e=!0;return e}return(0,r.bv)((()=>{g()})),(e,a)=>{const t=(0,r.up)("InputText");return s.value?((0,r.wg)(),(0,r.iD)("div",Vt,Bt)):((0,r.wg)(),(0,r.iD)("div",Mt,[(0,r._)("form",{class:"p-4 p-lg-5",onSubmit:_},[(0,r._)("h2",Ot,(0,l.zw)(p.value),1),(0,r._)("div",kt,[(0,r.Wm)(t,{id:"culture-name","aria-describedby":"culture-name-help",modelValue:d.value.Name,"onUpdate:modelValue":a[0]||(a[0]=e=>d.value.Name=e),class:"w-50",required:""},null,8,["modelValue"]),It]),(0,r._)("div",Ft,[(0,r.Wm)(Ct,{cycleError:u.value,cycle:c.value,onOnSaveCycle:b},null,8,["cycleError","cycle"])]),(0,r._)("div",Ut,[(0,r.Wm)(At,{disabled:n.value,text:""+(n.value?"Salvando...":"Salvar")},null,8,["disabled","text"])])],32)]))}}};const jt=Kt;var Lt=jt,Ht=[{path:"/culture",name:"culture",meta:{ShowNav:!0,title:"Culturas",navBarTab:8},component:Fa,props:ja},{path:"/culture/create",name:"create-culture",meta:{ShowNav:!1,title:`${he.create} cultura`,navBarTab:8},component:Lt,props:Ya},{path:"/culture/edit/:id",name:"edit-culture",meta:{ShowNav:!1,title:`${he.edit} cultura`,navBarTab:8},component:Lt,props:et}];const zt={class:"px-4"},qt={class:"wrapper-form"},Jt={class:"pt-3"};var Wt=(0,r.aZ)({__name:"FormWrapper",props:{title:String},emits:["submit"],setup(e,{emit:a}){const t=e,o=e=>{a("submit",e)};return(e,a)=>((0,r.wg)(),(0,r.iD)("div",zt,[(0,r._)("div",qt,[(0,r._)("form",{onSubmit:o,class:"text-left p-4 p-lg-5"},[(0,r._)("h2",null,(0,l.zw)(t.title),1),(0,r.WI)(e.$slots,"content"),(0,r._)("div",Jt,[(0,r.WI)(e.$slots,"buttons")])],32)])]))}});const Yt=Wt;var $t=Yt,Gt=t(1800);const Qt=e=>((0,r.dD)("data-v-35fe12b0"),e=e(),(0,r.Cn)(),e),Zt={class:"p-float-label w-100 margin-top-mob wrapper-filter"},Xt={for:"date-range-read"},eo=Qt((()=>(0,r._)("i",{class:"pi pi-times text-white"},null,-1))),ao=[eo];var to={__name:"FilterDate",props:{label:{default:"Período",type:String},modelValue:{type:Object,required:!0},selectionMode:{default:"range",type:String},timeOnly:{default:!1,type:Boolean},showTime:{default:!1,type:Boolean},hourFormat:{default:"24",type:String},stepMinute:{default:60,type:Number},dateFormat:{default:"YYYY-MM-DD",type:String},canClear:{default:!1,type:Boolean}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e,o=(0,i.iH)();(0,r.YP)(o,((e,t)=>{if(e&&!t)return;let o=e;o||(o=[]),a("update:modelValue",o)})),(0,r.YP)((()=>t.modelValue),(e=>{if("string"===typeof e&&e!=o.value&&e){const a=new Date(e);o.value=a}}),{immediate:!0});const s=()=>o.value=null;return(a,t)=>((0,r.wg)(),(0,r.iD)("span",Zt,[(0,r.Wm)((0,i.SU)(Gt.Z),{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),inputId:"date-range-read",dateFormat:"dd/mm/yy",selectionMode:e.selectionMode,manualInput:!1,showIcon:"",class:"w-100","time-only":e.timeOnly,"show-time":e.showTime,"hour-format":e.hourFormat,stepMinute:e.stepMinute},null,8,["modelValue","selectionMode","time-only","show-time","hour-format","stepMinute"]),(0,r._)("label",Xt,(0,l.zw)(e.label),1),e.canClear&&o.value?.length?((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:s,class:"clear d-flex align-items-center justify-content-center"},ao)):(0,r.kq)("",!0)]))}};const oo=(0,d.Z)(to,[["__scopeId","data-v-35fe12b0"]]);var ro=oo,lo=t(8571);const io=e=>((0,r.dD)("data-v-3e294956"),e=e(),(0,r.Cn)(),e),so={class:"base-pagination d-flex flex-column flex-lg-row align-items-center justify-content-between px-2 py-2 w-100"},no={class:"ml-lg-4 my-3"},uo={key:0},co={key:1,class:"font-weight-bold"},mo=io((()=>(0,r._)("i",{class:"pi pi-exclamation-circle"},null,-1))),po={class:"mb-1"},yo={class:"navigation-items"},vo=io((()=>(0,r._)("i",{class:"pi pi-angle-left"},null,-1))),go=[vo],fo=["onClick"],ho=io((()=>(0,r._)("i",{class:"pi pi-angle-right"},null,-1))),bo=[ho];var _o={__name:"BasePagination",props:{modelValue:Number,apiPagination:{type:Object,required:!1},isLoading:{type:Boolean,default:!1},totalItems:{type:Number,default:1},currentShowingItems:{type:Array,default:()=>[]},collectionText:{type:String,default:""},perPage:{type:Number,default:1}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e,o=h(),s=(0,r.Fl)((()=>{const e=t.apiPagination?t.apiPagination.pages:Math.ceil(t.totalItems/t.perPage);return e||1})),n=(0,r.Fl)((()=>u.value>c.value.length)),u=(0,i.iH)(1),d=(0,r.Fl)((()=>[...Array(s.value).keys()].map((e=>e+1)))),c=(0,r.Fl)((()=>d.value.filter((e=>{let a=u.value+o-1,t=-(a-d.value.length),r=t+u.value;return t>0&&(t=0),r=t+u.value,r=r-2<1?1:r-2,a=r+o-1,e>=r&&e<=a})))),m=(0,r.Fl)((()=>t.collectionText.toLowerCase())),p=e=>{const t=d.value[d.value.length-1],o=d.value[0];let r=null;r=e>t?t:e<o?o:e,a("update:modelValue",r),u.value=r},y=()=>{p(d.value[0])},v=()=>{p(d.value[d.value.length-1])},g=()=>{p(u.value-1)},f=()=>{p(u.value+1)};function h(){const e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;return e<550?3:e<650?5:e<1070?7:9}return(0,r.YP)((()=>t.modelValue),(e=>{p(e)})),(0,r.YP)((()=>n.value),(e=>{e&&p(c.value[c.value.length-1])})),(a,t)=>{const o=(0,r.up)("font-awesome-icon"),i=(0,r.Q2)("tooltip");return(0,r.wg)(),(0,r.iD)("div",so,[(0,r._)("div",no,[e.currentShowingItems.length||e.isLoading?((0,r.wg)(),(0,r.iD)("span",uo," Exibindo "+(0,l.zw)(e.currentShowingItems.length)+" de "+(0,l.zw)(e.totalItems)+" "+(0,l.zw)(m.value)+"s ",1)):((0,r.wg)(),(0,r.iD)("span",co,[mo,(0,r.Wm)(o,{icon:""}),(0,r.Uk)(" Não existem dados correspondentes a esta busca ")]))]),(0,r._)("div",po,[(0,r._)("div",yo,[(0,r._)("button",{class:"bg-white p-2",onClick:y},"Primeira"),(0,r.wy)(((0,r.wg)(),(0,r.iD)("button",{class:"btn-page bg-white p-2",onClick:g},go)),[[i,{value:"Anterior",showDelay:500,hideDelay:300},void 0,{bottom:!0}]]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.value,(e=>((0,r.wg)(),(0,r.iD)("button",{key:e,class:(0,l.C_)(["btn-page p-2",{"is-current":u.value===e}]),onClick:a=>p(e)},(0,l.zw)(e),11,fo)))),128)),(0,r.wy)(((0,r.wg)(),(0,r.iD)("button",{class:"btn-page bg-white p-2",onClick:f},bo)),[[i,{value:"Próxima",showDelay:500,hideDelay:300},void 0,{bottom:!0}]]),(0,r._)("button",{class:"bg-white p-2",onClick:v},"Última")])])])}}};const To=(0,d.Z)(_o,[["__scopeId","data-v-3e294956"]]);var Eo=To;const So={key:0,class:"font-weight-bold label mb-0"},wo={key:1},Co={key:2,class:"w-100 d-flex flex-lg-row flex-column justify-content-lg-between align-items-lg-center"},Po={class:"text-left mb-2 mb-lg-0 font-weight-bold"},Do={class:"wrapper-table w-100 mt-3"},Ao={class:"wrapper-table w-100 mt-3 d-none"};var Ro={__name:"BaseTable",props:{label:{type:String,required:!1},title:{type:String,default:""},apiPagination:{type:Object,required:!1},hidePagination:{type:Boolean,default:!1},addMarginTop:{type:Boolean,default:!1},getDataKey:{type:String,required:!1},filtersTable:{type:Array,default:null},isReport:{type:Boolean,default:!1},selectable:{type:Boolean,default:!0},hasCrudRows:{type:Boolean,default:!1},actionText:{type:String,default:"linha"},columns:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]}},emits:["selected","update:modelValue"],setup(e,{expose:a,emit:t}){const o=e,s=(0,i.iH)(1),n=(0,i.iH)(null),u=(0,i.iH)(null),d=(0,i.iH)(null),c=(0,i.iH)(null),m=()=>o.title.toLowerCase().split(" ").join("_"),v=()=>{c.value.download("csv",`${m()}.csv`,{bom:!0})},g=()=>{c.value.download("xlsx",`${m()}.xlsx`,{sheetName:m(),bom:!0})},f=(0,y.yj)(),h=(0,r.Fl)((()=>f.params.id||"")),b=(0,r.Fl)((()=>o.columns.find((e=>e.editor))&&o.hasCrudRows)),_=(0,r.Fl)((()=>f.name||"")),T=(0,r.Fl)((()=>Math.max(...o.data.map((e=>e.id||e.Id)).filter((e=>e)))||1)),E=(0,p.oR)(),S=(0,i.iH)(null),w=(0,i.iH)(!0),C=()=>({id:T.value+1}),P=(0,r.Fl)((()=>{let{itemPerPage:e}=ne,a=o.apiPagination?.total||o.data.length;return{itemPerPage:e,totalItems:a}})),D=(0,r.Fl)((()=>{if(o.apiPagination)return o.data;const e=P.value.itemPerPage*s.value,a=e-P.value.itemPerPage;return o.data.slice(a,e)})),A=(0,i.iH)(null);(0,r.YP)((()=>D.value),(async e=>{clearTimeout(A.value),u.value?.initialized?A.value=setTimeout((()=>u.value?.setData(e)),0):A.value=setTimeout((()=>u.value?.setData(e)),200)}),{immediate:!0});const R=(0,r.Fl)((()=>{const e={};return o.filtersTable&&o.filtersTable.length&&o.filtersTable.forEach((a=>{a.length?e["search"]=a[0].value:e[a.field]=a.value})),e}));(0,r.YP)((()=>o.filtersTable),(async e=>{u.value?.clearFilter();const a=e?e.filter((e=>e.type||e.length)):[];u.value?.setFilter(a)}),{immediate:!0});const N=async()=>{w.value=!0,S.value=setTimeout((async()=>{await E.dispatch(o.getDataKey,{_itemId:h.value,pageNumber:s.value,...R.value}),w.value=!1}),300)};a({getData:N}),(0,r.YP)((()=>[o.filtersTable,_.value,s.value]),(async(e,a)=>{a&&e[2]===a[2]&&1!==e[2]?s.value=1:(S.value&&clearTimeout(S.value),o.getDataKey?await N():w.value=!1)}),{immediate:!0,deep:!0});const V=(0,r.Fl)((()=>o.columns.map((e=>(e.headerSort=!1,e.hozAlign="center",e.headerHozAlign="center",e)))));(0,r.YP)((()=>[V.value,o.data]),(e=>{u.value?.initialized&&u.value?.setColumns(e[0])}),{immediate:!0,deep:!0});const x=()=>t("update:modelValue",u.value.getData()),B=async e=>{await u.value.addRow(C(),!1),x()},M=async()=>{const e={};o.data.forEach((a=>e[a.id]=!0));const a=u.value.getSelectedData()?.map((e=>e.id))?.filter((a=>e[a])),t=a?.length,r=o.data.length;t&&(await u.value.deleteRow(a),await u.value.deselectRow(a),t===r&&await B(),x())},O=e=>{t("selected",e)};return(0,r.bv)((()=>{u.value=new lo.Ae(n.value,{data:D.value,reactiveData:!1,columns:V.value,layout:"fitColumns",validationMode:"highlight",selectable:o.selectable,selectableRowsPersistence:!1}),c.value=new lo.Ae(d.value,{data:o.data,reactiveData:!1,columns:V.value,layout:"fitColumns",validationMode:"highlight"}),u.value.on("rowSelectionChanged",(function(e,a,t,o){O(a.map((e=>e._row.data)))}))})),(a,t)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,l.C_)(["w-100 d-flex flex-column align-items-start",{"mt-4":e.addMarginTop}])},[e.label?((0,r.wg)(),(0,r.iD)("label",So,(0,l.zw)(e.label),1)):(0,r.kq)("",!0),b.value?((0,r.wg)(),(0,r.iD)("div",wo,[(0,r._)("button",{type:"button",class:"btn btn-success mr-4",onClick:B}," Adicionar linha "),(0,r._)("button",{type:"button",class:"btn btn-danger",onClick:M}," Remover linha ")])):(0,r.kq)("",!0),e.isReport?((0,r.wg)(),(0,r.iD)("div",Co,[(0,r._)("h4",Po,(0,l.zw)(e.title),1),(0,r._)("div",{class:"d-flex"},[(0,r._)("button",{class:"btn mr-2 btn-success",onClick:v}," Download CSV "),(0,r._)("button",{class:"btn btn-success",onClick:g}," Download XLSX ")])])):(0,r.kq)("",!0),(0,r._)("div",Do,[(0,r._)("div",{ref_key:"table",ref:n},null,512)]),(0,r._)("div",Ao,[(0,r._)("div",{ref_key:"tabDownload",ref:d},null,512)]),e.hidePagination?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(Eo,{key:3,modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),class:"w-100","is-loading":w.value,"total-items":P.value.totalItems,"current-showing-items":D.value,"collection-text":e.actionText,"per-page":P.value.itemPerPage,"api-pagination":e.apiPagination},null,8,["modelValue","is-loading","total-items","current-showing-items","collection-text","per-page","api-pagination"]))],2))}};const No=(0,d.Z)(Ro,[["__scopeId","data-v-5914ce9e"]]);var Vo=No;const xo={class:"position-relative w-100 mt-4"},Bo={key:0,class:"font-weight-bold label mb-0"};var Mo={__name:"FarmDap",props:{label:{type:String,required:!1},modelValue:{type:Object,required:!1},columns:{type:Array,required:!1,default:()=>[]},hidePagination:{type:Boolean,default:!0},hasCrudRows:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e,o=[{id:1}],s=(0,i.iH)(JSON.parse(JSON.stringify(o)));return(0,r.YP)((()=>s.value),(e=>{a("update:modelValue",e)})),(0,r.YP)((()=>t.modelValue),(e=>{if(!e)return a("update:modelValue",[{id:1}]);s.value=e})),(a,t)=>((0,r.wg)(),(0,r.iD)("div",xo,[e.label?((0,r.wg)(),(0,r.iD)("label",Bo,(0,l.zw)(e.label),1)):(0,r.kq)("",!0),(0,r.Wm)(Vo,{ref:"refBaseTable",modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),hidePagination:e.hidePagination,data:s.value,columns:e.columns,selectable:!1,apiPagination:{},"has-crud-rows":e.hasCrudRows},null,8,["modelValue","hidePagination","data","columns","has-crud-rows"])]))}};const Oo=Mo;var ko=Oo,Io=t(7818);const Fo={class:"position-relative w-100 mt-4"},Uo={class:"font-weight-bold label"},Ko={class:"base-text-length mt-2 text-secondary"},jo={key:0},Lo={key:1},Ho=["value","pattern","title"],zo=500,qo=10;var Jo={__name:"FieldEditor",props:{label:{default:"Período",type:String},modelValue:{type:Object,required:!0},selectionMode:{default:"range",type:String},timeOnly:{default:!1,type:Boolean},showTime:{default:!1,type:Boolean},hourFormat:{default:"24",type:String},dateFormat:{default:"YYYY-MM-DD",type:String}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e,o=(0,i.iH)(),s=(0,i.iH)(0),n=(0,r.Fl)((()=>zo-s.value+1)),u=(0,r.Fl)((()=>s.value<qo+1)),d=(0,r.Fl)((()=>1===s.value?"A":s.value?"A".repeat(s.value-1):"")),c=e=>{const a=e.instance;a.on("text-change",(function(e,t,o){const r=a.getLength();s.value=r,r>zo&&a.deleteText(zo,r)}))};return(0,r.YP)(o,(e=>{a("update:modelValue",e)})),(0,r.YP)((()=>t.modelValue),(e=>{o.value=e}),{immediate:!0}),(a,t)=>((0,r.wg)(),(0,r.iD)("div",Fo,[(0,r._)("label",Uo,(0,l.zw)(e.label),1),(0,r.Wm)((0,i.SU)(Io.Z),{onLoad:c,modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),editorStyle:"height: 320px"},null,8,["modelValue"]),(0,r._)("div",Ko,[u.value?((0,r.wg)(),(0,r.iD)("span",jo," Caracteres mínimos: "+(0,l.zw)(qo))):((0,r.wg)(),(0,r.iD)("span",Lo,[(0,r.Uk)(" Caracteres disponíveis: "),(0,r._)("span",{class:(0,l.C_)({"text-danger":!u.value&&n.value<=5})},(0,l.zw)(n.value),3)]))]),(0,r._)("input",{value:d.value,pattern:`.{${qo},}`,title:`Mínimo de ${qo} caracteres`,required:"",class:"hidden-input position-absolute",name:"teste",cols:"1",rows:"1"},null,8,Ho)]))}};const Wo=(0,d.Z)(Jo,[["__scopeId","data-v-b0a9b712"]]);var Yo=Wo;const $o={class:"home"},Go={class:"row"},Qo={key:0},Zo={key:2,class:"margin-inputs d-block p-input-icon-right p-float-label"},Xo=["onClick"],er=["for"],ar=(0,r._)("div",{class:"py-2"},null,-1),tr=(0,r._)("div",{class:"py-5"},null,-1);var or={__name:"BaseForm",props:{getDataKey:{type:String,required:!0},storeDataKey:{type:[String,Array],required:!0},submitDataKey:{type:String,required:!0},headerLabel:{type:String,required:!0},finishedDataButton:{type:Object,required:!0},defaultValue:{type:[Object,Boolean],required:!1,default:!1},workWithoutId:{type:Boolean,required:!1,default:!1},fields:{type:Array,required:!0},navBarTab:{type:Number,default:null}},setup(e){const a=e,t=((0,y.tv)(),(0,i.iH)({})),o=(0,i.iH)({}),s={FilterDate:ro,FieldEditor:Yo,BaseTable:Vo,FarmDap:ko,CreateFarmDap:Ct},n=(0,i.iH)(!1),u=(0,y.yj)(),d=(0,i.iH)([]),c=(0,i.iH)(!1),m=((0,i.iH)(!1),(0,i.iH)(u.params.id||"")),v=(0,p.oR)(),g=e=>{e.tmp_pass=!e.tmp_pass,e.subtype="password",e.type="password"===e.type?"text":"password"};(0,r.YP)((()=>a.fields),(async e=>{try{n.value=!1,d.value=e.map((e=>({...e}))).map(((e,a)=>(e.index=a,e.tmp_pass=!0,e))),await Promise.allSettled(d.value.filter((e=>e.getListKey)).map((async e=>await v.dispatch(e.getListKey))))}catch(a){console.error(a)}finally{n.value=!0}}),{immediate:!0,deep:!0});const f=(0,r.Fl)((()=>{let e={};return e=a.defaultValue?a.defaultValue:a.storeDataKey?L(v.state,a.storeDataKey):{},e})),h=(e,a)=>e.map((e=>(e._typeComponent=a,e))),b=(0,r.Fl)((()=>d.value.filter((e=>e.component)).map((e=>({...e,value:t.value[e.formKey]}))))),_=(0,r.Fl)((()=>JSON.parse(JSON.stringify(d.value)).filter((e=>e.getListKey&&!e.component)).map((e=>({...e,options:v.getters[e.getterKey].filter((e=>e.value))}))))),T=(0,r.Fl)((()=>d.value.filter((e=>!e.getListKey&&!e.component)))),E=(0,r.Fl)((()=>{const e=h(b.value,"component"),a=h(_.value,"dropdown"),t=h(T.value,"input");return[...e,...a,...t].sort(((e,a)=>e.index-a.index))})),S=(0,r.Fl)((()=>JSON.parse(JSON.stringify(_.value)))),w=(0,r.Fl)((()=>{const e=S.value.filter((e=>e.requestOnChange)).map((e=>({...e,value:t.value[e.formKey]})));return JSON.parse(JSON.stringify(e))})),C=(e=!1)=>{o.value=JSON.parse(JSON.stringify(t.value)),c.value=!!e};(0,r.YP)(u,(async e=>{m.value=e.params.id,a.getDataKey&&(m.value||a.workWithoutId)&&!w.value.length?await v.dispatch(a.getDataKey,m.value):(t.value={},C())}),{immediate:!0});const P=async e=>{e&&_.value.forEach((e=>{const a=e.formKey,o=e.options?.[0],r=e.options.find((a=>a.title===e.value)),l=t.value[a];let i=null;l?r&&r.value!=t.value[a].value&&(i=r):i=o,i&&(t.value[a]=i)}))};(0,r.YP)((()=>n.value),P);const D=e=>{const a=["string","number"],t=e=>a.includes(typeof e)||!e;return Object.values(e).map((e=>{if(t(e))return e;let a=e;return a.length||(a=[a]),a.map((e=>Object.values(e).join(""))).join("")})).join("")},A=(0,r.Fl)((()=>{const e=!(!o.value||!Object.keys(o.value).length);if(!e)return!1;const a=D(o.value),r=D(t.value);return e&&a!==r})),R=(0,r.Fl)((()=>!o.value||!Object.keys(o.value).length||a.defaultValue)),N=e=>{t.value=e?JSON.parse(JSON.stringify(e)):{},o.value=JSON.parse(JSON.stringify(t.value))};(0,r.YP)((()=>f.value),N,{deep:!0});const V=(0,r.Fl)((()=>JSON.parse(JSON.stringify([w.value,u.path]))));(0,r.YP)((()=>V.value),(async(e,t)=>{const[o,r]=e,l=o?.[0]?.value,i=l?.value,s=t?.[0]?.[0]?.value?.value,n=i&&!s||s&&i&&s!=i,u=t&&t[1]!=r;(n||u)&&await v.dispatch(a.getDataKey,l)}));const x=async e=>{e.preventDefault(),await v.dispatch(a.submitDataKey,t.value).then((()=>{C(!0)})).catch(console.error)};return(a,o)=>{const i=(0,r.up)("InputNumber"),n=(0,r.up)("InputText"),u=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",$o,[(0,r.Wm)($t,{title:e.headerLabel,onSubmit:x},{content:(0,r.w5)((()=>[(0,r._)("div",Go,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(E.value,((e,a)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,l.C_)([e.colSize?`col-lg-${e.colSize}`:"col-lg-6","align-items-end d-flex"]),key:a},["component"==e._typeComponent?((0,r.wg)(),(0,r.iD)("div",Qo,[((0,r.wg)(),(0,r.j4)((0,r.LL)(s[e.component.name]),(0,r.dG)({modelValue:t.value[e.formKey],"onUpdate:modelValue":a=>t.value[e.formKey]=a},e.component.props),null,16,["modelValue","onUpdate:modelValue"]))])):"dropdown"==e._typeComponent?((0,r.wg)(),(0,r.j4)(Be,{key:1,modelValue:t.value[e.formKey],"onUpdate:modelValue":a=>t.value[e.formKey]=a,"extra-margin-top":e.props?.extraMarginTop,"inline-label":"","remove-margin":"",class:(0,l.C_)(["w-100",{"mt-5":a>1}]),width:"100%",options:e.options,placeholder:e.label},null,8,["modelValue","onUpdate:modelValue","extra-margin-top","class","options","placeholder"])):((0,r.wg)(),(0,r.iD)("span",Zo,["password"===e.type||"password"===e.subtype?((0,r.wg)(),(0,r.iD)("i",{key:0,onClick:()=>g(e),class:(0,l.C_)("pi "+(e.tmp_pass?"pi-eye-slash":"pi-eye"))},null,10,Xo)):(0,r.kq)("",!0),"number"===e.type?((0,r.wg)(),(0,r.j4)(i,{key:1,modelValue:t.value[e.formKey],"onUpdate:modelValue":a=>t.value[e.formKey]=a,required:!e.nullable,"input-id":e.formKey,class:(0,l.C_)(["w-100",{"p-invalid":[null,void 0,""].includes(t.value[e.formKey])}]),maxFractionDigits:5,locale:"en-US",showButtons:""},null,8,["modelValue","onUpdate:modelValue","required","input-id","class"])):((0,r.wg)(),(0,r.j4)(n,{key:2,modelValue:t.value[e.formKey],"onUpdate:modelValue":a=>t.value[e.formKey]=a,disabled:e.disabled,required:!e.nullable,type:e.type||"text","input-id":e.formKey,minlength:e.requireMinMax||e.min?e.min||5:null,maxlength:e.requireMinMax||e.max?e.max||25:null,class:"w-100"},null,8,["modelValue","onUpdate:modelValue","disabled","required","type","input-id","minlength","maxlength"])),(0,r._)("label",{class:"font-weight-bold",for:e.formKey},(0,l.zw)(e.label),9,er)]))],2)))),128))]),ar])),buttons:(0,r.w5)((()=>[c.value||e.finishedDataButton&&e.finishedDataButton.isRedirect?((0,r.wg)(),(0,r.j4)(u,{key:0,to:{name:e.finishedDataButton.routeName,params:{id:t.value?.[e.fields?.[e.finishedDataButton?.fieldIdIndex]?.formKey]?.id||1}},class:"btn btn-success px-4 py-2 btn-block"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(e.finishedDataButton.text),1)])),_:1},8,["to"])):((0,r.wg)(),(0,r.j4)(At,{key:1,disabled:!A.value&&!R.value,text:""+(R.value?"Salvar dados":"Atualizar dados")},null,8,["disabled","text"]))])),_:1},8,["title"]),tr])}}};const rr=or;var lr=rr;const ir=e=>((0,r.dD)("data-v-6478915e"),e=e(),(0,r.Cn)(),e),sr={class:"d-flex flex-column flex-lg-row align-items-lg-center justify-content-between mb-4 mb-lg-0"},nr={class:"wrapper-filters d-flex flex-column flex-lg-row align-items-lg-center"},ur={key:1,class:"d-flex"},dr={key:2,class:"d-flex justify-content-between justify-content-lg-start my-4 my-lg-0"},cr={class:"d-flex justify-content-start justify-content-lg-center justify-content-lg-start align-items-center"},mr=ir((()=>(0,r._)("span",{class:"mr-lg-2 d-none d-lg-inline-block"}," Editar ",-1))),pr=ir((()=>(0,r._)("span",{class:"mr-lg-2 d-none d-lg-inline-block"}," Excluir ",-1))),yr={key:1,class:"d-flex justify-content-end"},vr=ir((()=>(0,r._)("span",{class:"mr-lg-2 d-none d-lg-inline-block"}," Criar ",-1))),gr=ir((()=>(0,r._)("div",{class:"py-4 py-lg-5"},null,-1)));var fr={__name:"CrudTable",props:{hideSearch:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},apiPagination:{type:Object,required:!1},showDateRangeFilter:{type:Boolean,default:!1},actionText:{type:String,required:!0},hasApiFilters:{type:Boolean,default:!1},stateFilters:{type:Array,required:!0},deleteDataKey:{type:String,required:!0},getDataKey:{type:String,required:!0},filters:{type:Array,required:!0},searchFilter:{type:Array,required:!0},actionRoutes:{type:Object,required:!0},data:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},getData:{type:Function,default:()=>[]}},emits:["update:modelValue"],setup(e){const a=e,t=(0,y.tv)(),o=(0,i.iH)([]),s=(0,i.iH)(!1),n=(0,i.iH)(""),u=(0,i.iH)([]),d=e=>{o.value=e||[]},c=(0,p.oR)(),m=(0,i.iH)(null),v=async()=>{await m.value.getData()},g=(0,i.iH)([]),f=(0,y.yj)(),h=((0,r.Fl)((()=>f.name)),e=>({field:e.field,type:"like",value:e?.selected?.value?e?.selected?.title:""})),b=e=>{const a=n.value;return{field:e,type:"like",value:a}},_=e=>{const a=c.getters[e.getterKey];return{...e,options:a}},T=(0,r.Fl)((()=>[...a.filters,...a.stateFilters.map(_)])),E=(0,r.Fl)((()=>T.value.map((e=>e.field)))),S=(0,r.Fl)((()=>[{field:"start",value:u.value[0]},{field:"end",value:u.value[1]}])),w=(0,r.Fl)((()=>[...S.value,...g.value.map(h),a.searchFilter.map(b)]));(0,r.YP)((()=>a.stateFilters),(()=>{n.value="",a.stateFilters.forEach((e=>c.dispatch(e.getListKey)))}),{immediate:!0}),(0,r.YP)((()=>E.value),((e,a)=>{const t=e&&!a,o=a||[],r=o.join("")!==e.join("");(t||r)&&(g.value=T.value.map((e=>({selected:e.options[0]||null,field:e.field}))))}),{immediate:!0});const C=()=>{if(!o.value.length)return s.value=!1,A.Am.warning("Não há item selecionado");s.value=!0},P=()=>{const e=o.value[0]?.id??o.value[0]?.Id;return o.value.length?o.value.length>1?A.Am.warning("Selecione apenas um item"):void t.push({name:a.actionRoutes.edit,params:{id:e}}):A.Am.warning("Não há item selecionado")};return(a,t)=>{const i=(0,r.up)("font-awesome-icon"),c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",null,[s.value?((0,r.wg)(),(0,r.j4)(Da,{key:0,"action-text":e.actionText,users:o.value,"get-data-key":e.getDataKey,"delete-data-key":e.deleteDataKey},null,8,["action-text","users","get-data-key","delete-data-key"])):(0,r.kq)("",!0),(0,r._)("div",null,[(0,r._)("div",sr,[(0,r._)("div",nr,[e.hideSearch?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(Ae,{key:0,"remove-margin":"",modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),placeholder:"Buscar","input-type":"text","show-icon":"",class:"w-100 mb-3 mb-lg-0"},null,8,["modelValue"])),e.showDateRangeFilter?((0,r.wg)(),(0,r.iD)("div",ur,[(0,r.Wm)(ro,{class:"mt-0 mb-3 mb-lg-0",modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),"can-clear":""},null,8,["modelValue"])])):(0,r.kq)("",!0),T.value.length==g.value.length&&T.value.length?((0,r.wg)(),(0,r.iD)("div",dr,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(T.value,((e,a)=>((0,r.wg)(),(0,r.iD)("div",{key:a,class:"d-flex"},[(0,r._)("div",{class:(0,l.C_)(["px-lg-2",{"px-1":a}])},null,2),(0,r.Wm)(Be,{"inline-label":"","remove-margin":"",modelValue:g.value[a].selected,"onUpdate:modelValue":e=>g.value[a].selected=e,options:e.options,placeholder:e.label},null,8,["modelValue","onUpdate:modelValue","options","placeholder"])])))),128))])):(0,r.kq)("",!0)]),(0,r._)("div",cr,[(0,r._)("button",{onClick:P,class:"btn btn-info"},[mr,(0,r.Wm)(i,{class:"text-white",icon:"fa-solid fa-pen"})]),e.deleteDataKey?((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button","data-toggle":"modal","data-target":"#exampleModal",onClick:C,class:"ml-4 btn btn-danger"},[pr,(0,r.Wm)(i,{class:"text-white",icon:"fa-solid fa-trash"})])):(0,r.kq)("",!0),e.actionRoutes?.create?((0,r.wg)(),(0,r.iD)("div",yr,[(0,r.Wm)(c,{to:{name:e.actionRoutes.create},class:"ml-4 btn btn-success text-white"},{default:(0,r.w5)((()=>[vr,(0,r.Wm)(i,{class:"text-white",icon:"fa-solid fa-plus"})])),_:1},8,["to"])])):(0,r.kq)("",!0),(0,r._)("button",{onClick:v,class:"ml-4 btn btn-primary"},[(0,r.Wm)(i,{class:"text-white",icon:"fa-solid fa-refresh"})])])]),(0,r.Wm)(Vo,{ref_key:"refBaseTable",ref:m,onSelected:d,"api-pagination":e.apiPagination,"filters-table":w.value,"has-api-filters":e.hasApiFilters,"get-data-key":e.getDataKey,data:e.data,selectable:e.selectable,columns:e.columns,"action-text":e.actionText},null,8,["api-pagination","filters-table","has-api-filters","get-data-key","data","selectable","columns","action-text"]),gr])])}}};const hr=(0,d.Z)(fr,[["__scopeId","data-v-6478915e"]]);var br=hr;const _r={class:"crud-page-title d-flex mb-3"};var Tr=(0,r.aZ)({__name:"BaseCrudView",props:{headerLabels:{type:Array,required:!0},navBarTab:{type:Number,default:null},actionText:{type:String,required:!0},hasApiFilters:{type:Boolean,default:!1},stateFilters:{type:Array,default:()=>[]},hideSearch:{type:Boolean,default:!1},showDateRangeFilter:{type:Boolean,default:!1},storeDataKey:{type:[String,Array],required:!0},getDataKey:{type:String,required:!0},deleteDataKey:{type:String,required:!0},columns:{type:Array,default:()=>[]},actionRoutes:{type:Object,required:!0},filters:{type:Array,required:!1,default:()=>[]},searchFilter:{type:Array,required:!0}},setup(e){const a=e,t=(0,p.oR)(),o=(0,i.iH)({}),s=(0,r.Fl)((()=>t.state.page.pageExtraTitle)),n=(0,r.Fl)((()=>L(t.state,a.storeDataKey))),u=(0,r.Fl)((()=>n.value.apiPagination));return(a,t)=>((0,r.wg)(),(0,r.j4)(Qe,null,{default:(0,r.w5)((()=>[(0,r._)("div",_r,(0,l.zw)(s.value),1),(0,r.Wm)(br,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),"hide-search":e.hideSearch,"action-text":e.actionText,"show-date-range-filter":e.showDateRangeFilter,"has-api-filters":e.hasApiFilters,data:n.value.data,columns:e.columns,filters:e.filters,"state-filters":e.stateFilters,"search-filter":e.searchFilter,"action-routes":e.actionRoutes,"get-data-key":e.getDataKey,"delete-data-key":e.deleteDataKey,"api-pagination":u.value,selectable:""},null,8,["modelValue","hide-search","action-text","show-date-range-filter","has-api-filters","data","columns","filters","state-filters","search-filter","action-routes","get-data-key","delete-data-key","api-pagination"])])),_:1}))}});const Er=(0,d.Z)(Tr,[["__scopeId","data-v-7e2a7a08"]]);var Sr=Er;const wr={label:"Função",field:"type",options:[{title:"Todos",value:null},{title:"Básico",value:1},{title:"Admin",value:2}]},Cr=["name","email"];var Pr={actionText:"usuário",getDataKey:"GET_USERS",deleteDataKey:"DELETE_USERS",storeDataKey:"users",filters:[wr],searchFilter:Cr,actionRoutes:{edit:"edit-user",create:"create-user"},headerLabels:[{key:"totalAdmins",title:"Administradores"},{key:"totalBasics",title:"Básicos"}],columns:[{formatter:"rowSelection",titleFormatter:"rowSelection",align:"center",headerSort:!1,width:80},{title:"Nome",field:"name"},{title:"Email",field:"email"},{title:"Data de criação",field:"created_at",formatter:e=>P()(e._cell.value).format("DD/MM/YYYY")},{title:"Função",field:"type",formatter:e=>"admin"===e._cell.value?"Admin":"Básico"}]};const Dr=[{label:"Órgão M.",field:"Organ",getListKey:"FETCH_BODIES_OPTIONS",getterKey:"bodiesOptions"},{label:"Tipo de equipamento",field:"NomeTipoEquipamento",getListKey:"FETCH_EQUIPMENT_TYPE_OPTIONS",getterKey:"equipmentTypeOptions"}],Ar=["Name","LocationName"];var Rr={actionText:"equipamento",getDataKey:"GET_EQUIPMENTS",hasApiFilters:!0,deleteDataKey:"DELETE_EQUIPMENTS",storeDataKey:"equipments",stateFilters:Dr,filters:[],searchFilter:Ar,actionRoutes:{edit:"edit-equipment",create:"create-equipment"},headerLabels:[{key:"totalStations",title:"Estações"},{key:"totalPluviometers",title:"Pluviômetros"}],columns:[{formatter:"rowSelection",titleFormatter:"rowSelection",align:"center",headerSort:!1,width:80},{title:"Nome",field:"Name"},{title:"Identificador único externo",field:"Code"},{title:"Órgão Meteorológico",field:"Organ"},{title:"Localização",field:"LocationName"},{title:"Tipo",field:"NomeTipoEquipamento"},{title:"Leituras",field:"Id",formatter:"link",formatterParams:{label:"Acessar leituras",target:"_self",url:function(e){const a="station"===e._cell.row.data.Type?"station":"pluviometer";return`#/${a}-reads/${e._cell.value}`}}}]};const Nr=["Name"];var Vr={actionText:"Órg. Meteorológico",getDataKey:"FETCH_BODIES_OPTIONS",deleteDataKey:"DELETE_BODIES",storeDataKey:"metereologicalBodies",stateFilters:[],filters:[],searchFilter:Nr,actionRoutes:{edit:"edit-body",create:"create-body"},headerLabels:[],columns:[{formatter:"rowSelection",titleFormatter:"rowSelection",align:"center",headerSort:!1,width:80},{title:"Nome",field:"Name"},{title:"Host",field:"Host"},{title:"Usuário",field:"User"}]};const xr="GET_PROFILE",Br="UPDATE_PROFILE",Mr="profile",Or="Atualizar dados de perfil",kr=[{label:"Nome",formKey:"name",type:"text"},{label:"Login",formKey:"login",type:"text"},{label:"Email",formKey:"email",type:"email"}],Ir={text:"Retornar a listagem de usuários",routeName:"users"};var Fr={getDataKey:xr,storeDataKey:Mr,submitDataKey:Br,headerLabel:Or,fields:kr,finishedDataButton:Ir};const Ur={fields:[{label:"Nome",formKey:"Name",type:"text"},{label:"Host",formKey:"Host",type:"text",nullable:!0},{label:"Senha",formKey:"Password",type:"password",nullable:!0}]},Kr="GET_CURRENT_BODY",jr="UPDATE_BODY",Lr="currentBody",Hr="Editando órgão meteorológico";var zr={getDataKey:Kr,storeDataKey:Lr,submitDataKey:jr,headerLabel:Hr,fields:Ur.fields};const qr="CREATE_BODY",Jr="Criando órgão meteorológico";var Wr={getDataKey:"",storeDataKey:"",submitDataKey:qr,headerLabel:Jr,fields:Ur.fields};const Yr={fields:[{label:"Nome",formKey:"Name",type:"text"},{label:"Id externo",formKey:"Code",type:"text"},{label:"Nome do órgão",formKey:"Organ",type:"text",getListKey:"FETCH_BODIES_OPTIONS",getterKey:"bodiesOptions"},{label:"Tipo de equipamento",formKey:"NomeTipoEquipamento",type:"text",getListKey:"FETCH_EQUIPMENT_TYPE_OPTIONS",getterKey:"equipmentTypeOptions"},{label:"Nome da localização",formKey:"LocationName",type:"text"},{label:"Altitude",formKey:"Altitude",type:"number"},{label:"Latitude",formKey:"x",type:"number"},{label:"Longitude",formKey:"y",type:"number"}]},$r="GET_CURRENT_EQUIPMENT",Gr="UPDATE_EQUIPMENT",Qr="currentEquipment",Zr="Editando equipamento",Xr={text:"Retornar a listagem de equipamentos",routeName:"equipments"};var el={getDataKey:$r,storeDataKey:Qr,submitDataKey:Gr,finishedDataButton:Xr,headerLabel:Zr,fields:Yr.fields};const al="Cadastrando equipamento";var tl={getDataKey:"",storeDataKey:"",submitDataKey:"CREATE_EQUIPMENT",headerLabel:al,finishedDataButton:el.finishedDataButton,fields:el.fields};const ol=[];var rl={actionText:"leitura",getDataKey:"GET_STATION_READS",deleteDataKey:"",storeDataKey:"readsStation",hasApiFilters:!0,hideSearch:!0,showDateRangeFilter:!0,stateFilters:[],filters:[],searchFilter:ol,actionRoutes:{edit:"station-reads-edit",create:""},headerLabels:[],columns:[{formatter:"rowSelection",titleFormatter:"rowSelection",align:"center",headerSort:!1,width:80},{title:"Integridade de dados",field:"hasMissingColumn",formatter:"tickCross"},{title:"Data de envio",field:"FullTime",formatter:Z},{title:"Altitude",field:"Altitude",formatter:e=>e._cell.value?.Value?+e._cell.value?.Value.toFixed(2):e._cell.value?.Value},{title:"Radiação total",field:"TotalRadiation",formatter:e=>e._cell.value?.Value?+e._cell.value?.Value.toFixed(2):e._cell.value?.Value},{title:"Umidade relativa média",field:"AverageRelativeHumidity",formatter:e=>e._cell.value?.Value?+e._cell.value?.Value.toFixed(2):e._cell.value?.Value},{title:"Temperatura atmosférica média",field:"AverageAtmosphericTemperature",formatter:e=>e._cell.value?.Value?+e._cell.value?.Value.toFixed(2):e._cell.value?.Value},{title:"Pressão atmosférica",field:"AtmosphericPressure",formatter:e=>e._cell.value?.Value?+e._cell.value?.Value.toFixed(2):e._cell.value?.Value},{title:"Velocidade do vento",field:"WindVelocity",formatter:e=>e._cell.value?.Value?+e._cell.value?.Value.toFixed(2):e._cell.value?.Value},{title:"ET0",field:"ET0",validator:["required","min:0","max:5"],formatter:e=>e._cell.value?.Value?+e._cell.value?.Value.toFixed(2):e._cell.value?.Value}]};const ll="GET_CURRENT_STATION_READ",il="UPDATE_STATION_READ",sl="currentStationRead",nl="Editando leitura",ul=[{formKey:"Time",component:{name:"FilterDate",props:{label:"Data",showTime:!0,hourFormat:"24",selectionMode:"single"}}},{label:"Altitude",formKey:"Altitude",type:"number",requireMinMax:!1},{label:"Radiação total",formKey:"TotalRadiation",type:"number",requireMinMax:!1},{label:"Umidade relativa média",formKey:"AverageRelativeHumidity",type:"number",requireMinMax:!1},{label:"Temperatura atmosférica média",formKey:"AverageAtmosphericTemperature",type:"number",requireMinMax:!1},{label:"Pressão atmosférica",formKey:"AtmosphericPressure",type:"number",requireMinMax:!1},{label:"Velocidade do vento",formKey:"WindVelocity",type:"number",requireMinMax:!1},{label:"ETO",formKey:"ETO",type:"number",requireMinMax:!1,validator:"required"},{label:"Temperatura atmosférica máxima",formKey:"MaxAtmosphericTemperature",type:"number",requireMinMax:!1},{label:"Temperatura atmosférica mínima",formKey:"MinAtmosphericTemperature",type:"number",requireMinMax:!1},{label:"Umidade relativa mínima",formKey:"MinRelativeHumidity",type:"number",requireMinMax:!1},{label:"Umidade relativa máxima",formKey:"MaxRelativeHumidity",type:"number",requireMinMax:!1}],dl={text:"Retornar a listagem de leituras de estações",routeName:"station-reads"};var cl={getDataKey:ll,storeDataKey:sl,submitDataKey:il,finishedDataButton:dl,headerLabel:nl,fields:ul};const ml=[];var pl={actionText:"leitura",getDataKey:"GET_PLUVIOMETER_READS",deleteDataKey:"",storeDataKey:"readsPluviometer",hideSearch:!0,showDateRangeFilter:!0,hasApiFilters:!0,stateFilters:[],filters:[],searchFilter:ml,actionRoutes:{edit:"pluviometer-reads-edit",create:""},headerLabels:[],columns:[{formatter:"rowSelection",titleFormatter:"rowSelection",align:"center",headerSort:!1,width:80},{title:"Integridade de dados",field:"hasMissingColumn",formatter:"tickCross"},{title:"Data de envio",field:"FullTime",formatter:Z},{title:"Precipitação",field:"Precipitation",formatter:e=>e._cell.value?.Value?+e._cell.value?.Value.toFixed(2):e._cell.value?.Value}]};const yl="GET_CURRENT_PLUVIOMETER_READ",vl="UPDATE_PLUVIOMETER_READ",gl="currentPluviometerRead",fl="Editando leitura",hl=[{formKey:"Time",component:{name:"FilterDate",props:{selectionMode:"single",label:"Data",showTime:!0,hourFormat:"24"}}},{label:"Precipitação",formKey:"Precipitation",type:"number",requireMinMax:!1}],bl={text:"Retornar a listagem de leituras de pluviômetros",routeName:"pluviometer-reads"};var _l={getDataKey:yl,storeDataKey:gl,submitDataKey:vl,finishedDataButton:bl,headerLabel:fl,fields:hl};const Tl=["Auth","Title"];var El={actionText:"notícia",getDataKey:"GET_NEWSLETTERS",hasApiFilters:!0,deleteDataKey:"DELETE_NEWSLETTER",storeDataKey:["newsletter","list"],filters:[],searchFilter:Tl,actionRoutes:{edit:"edit-newsletter",create:"create-newsletter"},headerLabels:[],columns:[{formatter:"rowSelection",titleFormatter:"rowSelection",align:"center",headerSort:!1,width:80},{title:"Título",field:"Title"},{title:"Data de envio",field:"SendDate",formatter:Z},{title:"Autor",field:"Auth"}]};const Sl={fields:[{label:"Título",formKey:"Title",type:"text"},{formKey:"SendDate",component:{name:"FilterDate",props:{label:"Data de envio",showTime:!0,selectionMode:"single",stepMinute:1}}},{label:"Descrição",formKey:"Description",type:"text",min:1,max:50},{formKey:"Text",colSize:12,component:{name:"FieldEditor",props:{label:"Mensagem"}}}]},wl="GET_CURRENT_NEWSLETTER",Cl="UPDATE_NEWSLETTER",Pl=["newsletter","update"],Dl="Editando notícia",Al={text:"Retornar a listagem de notícias",routeName:"newsletter"};var Rl={getDataKey:wl,storeDataKey:Pl,submitDataKey:Cl,finishedDataButton:Al,headerLabel:Dl,fields:Sl.fields};const Nl="Cadastrando notícia";var Vl={fields:Rl.fields,getDataKey:"",storeDataKey:"",submitDataKey:"CREATE_NEWSLETTER",headerLabel:Nl,finishedDataButton:Rl.finishedDataButton,defaultValue:ge};const xl={finishedDataButton:{text:"Retornar a listagem de rotinas",routeName:"cron"},fields:[{label:"Título",formKey:"name",type:"text"},{label:"Recorrência",formKey:"cron_text_formatted",type:"text",getListKey:"FETCH_CRON_OPTIONS",getterKey:"cronOptions"},{label:"Prioridade",formKey:"priority",type:"number"},{label:"Minutos para reexecução (caso de falha)",formKey:"retryDelay",type:"number"},{label:"Tentativas de reexecução (caso de falha)",formKey:"retryLimit",type:"number"}]},Bl=["name"],Ml=[{label:"Recorrência",field:"cron_text_formatted",getListKey:"FETCH_CRON_OPTIONS",getterKey:"cronOptions"}];var Ol={actionText:"rotina",getDataKey:"GET_CRONS",hasApiFilters:!0,deleteDataKey:"DELETE_CRONS",storeDataKey:["cron","list"],filters:[],searchFilter:Bl,stateFilters:Ml,actionRoutes:{edit:"edit-cron",create:"create-cron"},headerLabels:[],columns:[{formatter:"rowSelection",titleFormatter:"rowSelection",align:"center",headerSort:!1,width:80},{title:"Título",field:"name"},{title:"Recorrência",field:"cron_text_formatted"},{title:"Prioridade",field:"priority"}]};const kl="GET_CURRENT_CRON",Il="UPDATE_CRON",Fl=["cron","update"],Ul="Editando rotina de dados";var Kl={getDataKey:kl,storeDataKey:Fl,submitDataKey:Il,finishedDataButton:xl.finishedDataButton,headerLabel:Ul,fields:xl.fields.map(((e,a)=>a?e:{...e,disabled:!0}))};const jl="Cadastrando rotina de dados";var Ll={fields:xl.fields,getDataKey:"",storeDataKey:"",submitDataKey:"CREATE_CRON",headerLabel:jl,finishedDataButton:xl.finishedDataButton,defaultValue:ve};const Hl={fields:[{label:"Título",formKey:"name",type:"text"},{label:"Status",formKey:"status_text_formatted",type:"text",getListKey:"FETCH_STATUS_OPTIONS",getterKey:"statusOptions"},{label:"Prioridade",formKey:"priority",type:"number"},{label:"Minutos para reexecução (caso de falha)",formKey:"retrydelay",type:"number"},{label:"Tentativas de reexecução (caso de falha)",formKey:"retrylimit",type:"number"},{label:"Observação",formKey:"output",type:"text",nullable:!0}]},zl=[{label:"Status",field:"status_text_formatted",getListKey:"FETCH_STATUS_OPTIONS",getterKey:"statusOptions"}],ql=["name","output"];var Jl={actionText:"rotina",getDataKey:"GET_STATUS",hasApiFilters:!0,deleteDataKey:"DELETE_STATUS",storeDataKey:["status","list"],filters:[],stateFilters:zl,searchFilter:ql,actionRoutes:{edit:"edit-status",create:"create-status"},headerLabels:[],columns:[{formatter:"rowSelection",titleFormatter:"rowSelection",align:"center",headerSort:!1,width:80},{title:"Título",field:"name"},{title:"Status",field:"status_text_formatted"},{title:"Prioridade",field:"priority"},{title:"Observação",field:"output",formatter:e=>e._cell.value?.value}]};const Wl="GET_CURRENT_STATUS",Yl="UPDATE_STATUS",$l=["status","update"],Gl="Editando status de rotinas",Ql={text:"Retornar a listagem de status de rotinas",routeName:"status"};var Zl={getDataKey:Wl,storeDataKey:$l,submitDataKey:Yl,finishedDataButton:Ql,headerLabel:Gl,fields:Hl.fields};const Xl="Cadastrando status de rotinas";var ei={fields:Zl.fields,getDataKey:"GET_CURRENT_STATUS",storeDataKey:["status","update"],submitDataKey:"CREATE_STATUS",headerLabel:Xl,finishedDataButton:Zl.finishedDataButton,defaultValue:fe},ai={user:Pr,profile:Fr,reads:{station:{list:rl,update:cl},pluviometer:{list:pl,update:_l}},equipments:{list:Rr,update:el,create:tl},newsletter:{list:El,update:Rl,create:Vl},cron:{list:Ol,update:Kl,create:Ll},status:{list:Jl,update:Zl,create:ei},metereologicalBodies:{list:Vr,update:zr,create:Wr},managementFarm:{update:et,create:Ya}},ti=[{path:"/newsletter",name:"newsletter",meta:{ShowNav:!0,title:"Notícias",modulesNeeded:[be.news,_e.read]},component:Sr,props:ai.newsletter.list},{path:"/newsletter/edit/:id",name:"edit-newsletter",meta:{title:`${he.edit} notícia`,modulesNeeded:[be.news,_e.write]},component:lr,props:ai.newsletter.update},{path:"/newsletter/create",name:"create-newsletter",meta:{title:`${he.create} notícia`,modulesNeeded:[be.news,_e.write]},component:lr,props:ai.newsletter.create}].map((e=>(e.meta.navBarTab=3,e))),oi=[{path:"/status/",name:"status",meta:{ShowNav:!0,title:"Status de rotina",modulesNeeded:[be.jobs,_e.read]},component:Sr,props:ai.status.list},{path:"/status/edit/:id",name:"edit-status",meta:{title:`${he.edit} status`,modulesNeeded:[be.jobs,_e.write]},component:lr,props:ai.status.update},{path:"/status/create",name:"create-status",meta:{title:`${he.create} status`,modulesNeeded:[be.jobs,_e.write]},component:lr,props:ai.status.create}].map((e=>(e.meta.navBarTab=7,e))),ri=[{path:"/cron/",name:"cron",meta:{ShowNav:!0,title:"Rotina de dados",modulesNeeded:[be.jobs,_e.read]},component:Sr,props:ai.cron.list},{path:"/cron/edit/:id",name:"edit-cron",meta:{title:`${he.edit} rotina de dados`,modulesNeeded:[be.jobs,_e.write]},component:lr,props:ai.cron.update},{path:"/cron/create",name:"create-cron",meta:{title:`${he.create} rotina de dados`,modulesNeeded:[be.jobs,_e.write]},component:lr,props:ai.cron.create}].map((e=>(e.meta.navBarTab=6,e)));const li=e=>e<0||!e?0:e>=1?1:+e.toFixed(2),ii={fields:[{label:"Bacia",formKey:"currentBasin",getListKey:"FETCH_PLACES_OPTIONS",getterKey:"basinOptions",requestOnChange:!0,props:{extraMarginTop:!0}},{formKey:"Acronyms",colSize:12,component:{name:"BaseTable",props:{label:"Tabela de associações",addMarginTop:!0,selectable:!1,apiPagination:{},hidePagination:!0,columns:[{title:"Sigla",field:"acronym"},{title:"Cabeçalho",field:"text"}],data:[{text:"Ciclo da Cultura",acronym:"CC"},{text:"Segurança Produtiva",acronym:"SP"},{text:"Segurança Econômica",acronym:"SE"},{text:"Segurança Hídrica",acronym:"SH"},{text:"Segurança Social",acronym:"SS"}]}}},{formKey:"Weights",colSize:12,component:{name:"FarmDap",props:{label:"Tabela de pesos",hasCrudRows:!1,columns:[{title:"Cultura",field:"Plant_Name",mutator:e=>e&&e.length>=50?e.slice(50):e||Te},{title:"CC",field:"cultureCycle",editor:"number",width:60,mutator:li,editorParams:{min:0,max:1,step:.01}},{title:"id",field:"id",visible:!1},{title:"SP (kg/ha)",field:"ProductivityPerKilo",editor:"number",width:70,mutator:li,editorParams:{min:0,max:1,step:.01}},{title:"SP (kg/m³)",field:"ProductivityPerMeters",editor:"number",width:70,mutator:li,editorParams:{min:0,max:1,step:.01}},{title:"SE (R$/ha)",field:"ProfitabilityPerHectare",editor:"number",width:70,mutator:li,editorParams:{min:0,max:1,step:.01}},{title:"SE (R$/m³)",field:"ProfitabilityPerMeters",editor:"number",width:70,mutator:li,editorParams:{min:0,max:1,step:.01}},{title:"SH (m³/ha)",field:"WaterConsumptionPerHectare",editor:"number",width:70,mutator:li,editorParams:{min:0,max:1,step:.01}},{title:"SS (Empregos/ha)",field:"JobsPerHectare",editor:"number",minWidth:120,mutator:li,editorParams:{min:0,max:1,step:.01}},{title:"SS (Empregos/m³)",field:"JobsPerMeters",editor:"number",minWidth:120,mutator:li,editorParams:{min:0,max:1,step:.01}},{title:"Corte Hídrico",field:"hydBlade",width:70,formatter:e=>{const{ProductivityPerKilo:a,ProductivityPerMeters:t,ProfitabilityPerMeters:o,ProfitabilityPerHectare:r,JobsPerHectare:l,JobsPerMeters:i,WaterConsumptionPerHectare:s,cultureCycle:n}=e._cell.row.data,u=[a,t,o,r,l,i,s,n].map((e=>e?Number(e):0)),d=u.reduce(((e,a)=>e+a),0)/8;return Number((100*(d-1)).toFixed(2))}}]}}}]},si="GET_CURRENT_WEIGHT",ni="UPDATE_WEIGHT",ui=["weight","update"],di="Editando pesos",ci={text:"Retornar a edição de pesos",routeName:"weight"};var mi={getDataKey:si,storeDataKey:ui,submitDataKey:ni,finishedDataButton:ci,headerLabel:di,fields:ii.fields,workWithoutId:!0},pi=[{path:"/weight",name:"weight",meta:{ShowNav:!0,title:"Pesos",navBarTab:9},component:lr,props:mi}];const yi=e=>e<0||!e?1:Math.round(e)||1,vi=e=>e<0||!e?0:+Number(e).toFixed(2),gi={fields:[{label:"Bacia",formKey:"currentBasin",getListKey:"FETCH_PLACES_OPTIONS",getterKey:"basinOptions",requestOnChange:!0,props:{extraMarginTop:!0}},{formKey:"studys",colSize:12,component:{name:"FarmDap",props:{label:"Tabela de estudos",hasCrudRows:!1,columns:[{title:"Cultura",field:"Plant_Name",mutator:e=>e&&e.length>=50?e.slice(50):e||Te},{title:"Duração da safra (dias)",field:"cultureCycle",editor:"number",mutator:yi,editorParams:{min:1}},{title:"id",field:"id",visible:!1},{title:"Período de cultivo (dias)",field:"ProductivityPerKilo",editor:"number",mutator:yi,editorParams:{min:1}},{title:"Produtividade (kg/ha)",field:"ProductivityPerMeters",editor:"number",mutator:vi,editorParams:{min:0,step:.01}},{title:"Consumo hídrico (m³/ha)",field:"ProfitabilityPerHectare",editor:"number",mutator:vi,editorParams:{min:0,step:.01}}]}}}]},fi="GET_CURRENT_STUDY",hi="UPDATE_STUDY",bi=["study","update"],_i="Editando estudos",Ti={text:"Retornar a edição de estudos",routeName:"study"};var Ei={getDataKey:fi,storeDataKey:bi,submitDataKey:hi,finishedDataButton:Ti,headerLabel:_i,fields:gi.fields,workWithoutId:!0},Si=[{path:"/study",name:"study",meta:{ShowNav:!0,title:"Estudos",navBarTab:10},component:lr,props:Ei}];const wi=e=>((0,r.dD)("data-v-3c869c68"),e=e(),(0,r.Cn)(),e),Ci={class:"wrapper-component"},Pi=wi((()=>(0,r._)("label",{for:"table",class:"font-weight-bold"}," Acessos ",-1))),Di={class:"wrapper-table"},Ai={class:"table"},Ri=wi((()=>(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{scope:"col",colspan:"3"},"Módulos"),(0,r._)("th",{scope:"col"},"Leitura"),(0,r._)("th",{scope:"col"},"Escrita")])],-1))),Ni={scope:"row",colspan:"3"},Vi={class:"wrapper-select"},xi={class:"wrapper-select"};var Bi={__name:"AccessModulesTable",props:{label:String,modelValue:{type:Object,required:!0},inputRequired:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},options:{type:Array,default:()=>[]},userType:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e,o=[{title:"Sim",value:1},{title:"Não",value:0}],s=o[1],n={read:s,register:s},u=(0,i.iH)([{id:1,title:"Notícias",value:"news",access:JSON.parse(JSON.stringify(n))},{id:2,title:"Cadastro",value:"register",access:JSON.parse(JSON.stringify(n))},{id:3,title:"Usuários",value:"user",access:JSON.parse(JSON.stringify(n)),isDisabled:!0},{id:4,title:"Rotina de dados",value:"jobs",access:JSON.parse(JSON.stringify(n)),isDisabled:!0}]),d=(0,r.Fl)((()=>{const e=u.value.map((e=>e.value)),a={};return e.forEach(((e,t)=>{const o=u.value[t],r={id:o.id,read:!!o.access.read.value,write:!!o.access.register.value};a[e]=r})),a}));(0,r.YP)((()=>u.value),((e,a)=>{e.forEach(((e,t)=>{const r=a[t].access.register.value!==e.access.register.value&&a[t].access.read.value!==e.access.read.value,l=!(a[t].access.register.value&&a[t].access.read.value);e.access.read.value,e.access.read.value,e.access.read.value&&e.access.register.value;r&&l&&e.access.register.value&&(e.access.read=o[0])}))}),{deep:!0}),(0,r.YP)(d,(e=>{a("update:modelValue",e)}),{immediate:!0});const c=e=>e?o[0]:o[1];return(0,r.YP)((()=>t.modelValue),(e=>{e&&Object.keys(e).length&&u.value.forEach((a=>{const t=c(e?.[a.value]?.read),o=c(e?.[a.value]?.write);a.access.read=t,a.access.register=o}))}),{immediate:!0}),(0,r.YP)((()=>t.userType.value),(e=>{const a=e?0:1,t=o[a];a?u.value.filter(((e,a)=>a>=2)).map((e=>{e.access.read=t,e.access.register=t})):u.value.forEach((e=>{const a=e.access;a.read=t,a.register=t}))}),{immediate:!0}),(e,a)=>((0,r.wg)(),(0,r.iD)("div",Ci,[Pi,(0,r._)("div",Di,[(0,r._)("table",Ai,[Ri,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(u.value,((e,a)=>((0,r.wg)(),(0,r.iD)("tr",{key:a},[(0,r._)("th",Ni,(0,l.zw)(e.title),1),(0,r._)("td",null,[(0,r._)("div",Vi,[(0,r.Wm)(Be,{"remove-margin":"",disabled:e.isDisabled||!!t.userType.value,modelValue:e.access.read,"onUpdate:modelValue":a=>e.access.read=a,options:o,"input-required":""},null,8,["disabled","modelValue","onUpdate:modelValue"])])]),(0,r._)("td",null,[(0,r._)("div",xi,[(0,r.Wm)(Be,{"remove-margin":"",disabled:e.isDisabled||!!t.userType.value,modelValue:e.access.register,"onUpdate:modelValue":a=>e.access.register=a,options:o,"input-required":"","g-width":"100px"},null,8,["disabled","modelValue","onUpdate:modelValue"])])])])))),128))])])])]))}};const Mi=(0,d.Z)(Bi,[["__scopeId","data-v-3c869c68"]]);var Oi=Mi;const ki={class:"mb-5 pb-5"},Ii=(0,r._)("div",{class:"py-2"},null,-1),Fi=(0,r._)("div",{class:"py-2"},null,-1),Ui=(0,r._)("div",{class:"py-3"},null,-1);var Ki={__name:"UserRegisterView",setup(e){const a=(0,y.tv)(),t=(0,y.yj)(),o=(0,p.oR)(),l=[{title:"Básico",value:0},{title:"Admin",value:1}],s=(0,i.iH)({}),n=(0,i.iH)({type:l[0]}),u=(0,i.iH)(!1),d=((0,i.iH)(t.query.token||""),(0,r.Fl)((()=>"create-user"===t.name))),c=(0,r.Fl)((()=>o.state.currentUser)),m=(0,i.iH)(t.params.id||"");(0,r.YP)((()=>d.value),(async e=>{try{e||(await o.dispatch("GET_CURRENT_USER",m.value),c.value&&(s.value=c.value.modules,n.value.email=c.value.email,n.value.name=c.value.name,n.value.login=c.value.login,n.value.type="admin"===c.value.type?l[1]:l[0]))}catch(t){A.Am.error("Erro ao buscar usuário, redirecionando para criação de usuário"),setTimeout((()=>{a.push({name:"create-user"})}),1e3)}}),{immediate:!0});const v=(0,r.Fl)((()=>d.value?"Cadastrando usuário":"Editando permissões de usuário")),g=(0,r.Fl)((()=>({...n.value,type:n.value.type.value?"admin":"standard",modules:s.value}))),f=async e=>{try{e.preventDefault();const{email:t,type:r}=n.value,l=[t,r].filter((e=>!e)).length;if(l)return A.Am.warn("Preencha todos os campos.");if(u.value)return a.push({name:"users"});d.value?await o.dispatch("CREATE_USER",g.value).then((()=>{u.value=!0})).catch(console.error):await o.dispatch("UPDATE_USER",g.value).then((()=>{u.value=!0})).catch(console.error)}catch(e){console.error("erro no salve",e)}};return(e,a)=>((0,r.wg)(),(0,r.iD)("div",ki,[(0,r.Wm)($t,{title:v.value,onSubmit:f},{content:(0,r.w5)((()=>[Ii,(0,r.Wm)(Ae,{label:"Email",modelValue:n.value.email,"onUpdate:modelValue":a[0]||(a[0]=e=>n.value.email=e),placeholder:"Insira um email","input-required":"","input-type":"email",disabled:!d.value},null,8,["modelValue","disabled"]),Fi,(0,r.Wm)(Be,{label:"Tipo de usuário",modelValue:n.value.type,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value.type=e),placeholder:"Tipo de usuário",options:l,"input-required":"","input-type":"password"},null,8,["modelValue"]),Ui,(0,r.Wm)(Oi,{"user-type":n.value.type,modelValue:s.value,"onUpdate:modelValue":a[2]||(a[2]=e=>s.value=e)},null,8,["user-type","modelValue"])])),buttons:(0,r.w5)((()=>[(0,r.Wm)(At,{text:""+(u.value?"Voltar ao listamento de usuários":"Salvar usuário")},null,8,["text"])])),_:1},8,["title"])]))}};const ji=Ki;var Li=ji,Hi=[{path:"/users",name:"users",meta:{title:"Usuários",ShowNav:!0,modulesNeeded:[be.user,_e.read]},component:Sr,props:ai.user},{path:"/users/create",name:"create-user",meta:{title:`${he.create} usuário`,modulesNeeded:[be.user,_e.write]},component:Li},{path:"/users/edit/:id",name:"edit-user",meta:{title:`${he.edit} usuário`,modulesNeeded:[be.user,_e.write]},component:Li}].map((e=>(e.meta.navBarTab=0,e)));const zi=e=>((0,r.dD)("data-v-6309ee1b"),e=e(),(0,r.Cn)(),e),qi=zi((()=>(0,r._)("div",{class:"lds-ring"},[(0,r._)("div"),(0,r._)("div"),(0,r._)("div"),(0,r._)("div")],-1))),Ji=[qi];var Wi=(0,r.aZ)({__name:"CardChart",props:{isCentered:{type:Boolean,default:!1}},setup(e){const a=(0,p.oR)(),t=(0,r.Fl)((()=>a.state.report.isLoadingReport));return(a,o)=>((0,r.wg)(),(0,r.iD)("div",{class:"wrapper-card-total h-100",style:(0,l.j5)({minHeight:t.value?"300px":""})},[(0,r._)("div",{class:(0,l.C_)([{"d-flex align-items-center justify-content-center":e.isCentered},"wrapper-card w-100 p-2 p-lg-4 h-100"])},[(0,r.WI)(a.$slots,"default")],2),(0,r._)("div",{class:(0,l.C_)(["loading d-flex align-items-center justify-content-center",{active:t.value}])},Ji,2)],4))}});const Yi=(0,d.Z)(Wi,[["__scopeId","data-v-6309ee1b"]]);var $i=Yi;const Gi=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],Qi={Janeiro:1,Fevereiro:2,"Março":3,Abril:4,Maio:5,Junho:6,Julho:7,Agosto:8,Setembro:9,Outubro:10,Novembro:11,Dezembro:12},Zi=e=>Qi[e],Xi={enabled:!0,style:{fontSize:"10px",fontWeight:"normal"}},es=({password:e,confirmPassword:a})=>{const t=e!=a;return!t||(A.Am.error("Senhas estão divergindo"),!1)},as=(e,a)=>{if(!e.length)return{};const t={};let o="";o=a?.type?a.key:e[0]["Municipio"]?"Municipio":"Bacia";for(let r=0;r<e.length;r++){const a=e[r],l=a[o];t[l]||(t[l]=[]),t[l].length<ie&&t[l].push(a)}return t},ts=(e,a)=>[...new Set(e.map((e=>e[a])))].slice(0,ie),os=(e,a)=>{let t=[];return t="month"===a?.type?Gi:Object.keys(e).sort().slice(0,ie),t},rs=e=>{let a=e,t="";return e>1e3?(t="K",a=Math.floor(a/1e3)):a=Math.floor(a),`${a}${t}`},ls=e=>`${e}`,is=e=>Zi(e)?e.slice(0,3):e.length>10?`${e.slice(0,7)}...`:e,ss=(e,a,t,o,r)=>{const l=e.map((e=>{const l=a.map((e=>t[e]||[])).map((a=>a.find((a=>a[o]==e)))).map((e=>e?e[r]:0));return{name:e,data:l}}));return l};var ns={__name:"BarChart",props:{data:{type:Array,required:!0},labelBy:{type:String,required:!1},valueKey:{type:String,required:!0},title:{type:String,default:"",required:!1},seriesName:{type:String,default:"",required:!1},formatter:{type:String,default:"",required:!1},tooltipSufix:{type:String,default:"",required:!1},tooltipPrefix:{type:String,default:"",required:!1},hasDataLabels:{type:Boolean,default:!1,required:!1},isHorizontal:{type:Boolean,default:!1,required:!1},isReversed:{type:Boolean,default:!1,required:!1},color:{type:String,default:"",required:!1},height:{type:Number,default:270,required:!1},id:{type:String,required:!0}},setup(e){const a=e,t=(0,r.Fl)((()=>as(a.data,a.labelBy))),o=(0,r.Fl)((()=>os(t.value))),l=(0,r.Fl)((()=>{const e=[];return o.value.forEach((a=>{e.push(...t.value[a])})),e.map((e=>e[a.valueKey]?+e[a.valueKey].toFixed(2):0))})),i=(0,r.Fl)((()=>[{name:a.seriesName,data:l.value}])),s=(0,r.Fl)((()=>({text:a.title,align:"left",margin:10,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"16px",fontWeight:"bold",fontFamily:"Secular One",color:"#263238"}}))),n=(0,r.Fl)((()=>({chart:{id:a.id,toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0},export:{svg:{filename:a.title.split(" ").join("_")},png:{filename:a.title.split(" ").join("_")},csv:{filename:a.title.split(" ").join("_")}}}},dataLabels:Xi,plotOptions:{bar:{distributed:!0,horizontal:a.isHorizontal}},xaxis:{type:"category",categories:o.value,labels:{formatter:is}},legend:{show:!1,position:"bottom",offsetY:-5},fill:{opacity:1},yaxis:{reversed:a.isReversed},tooltip:{x:{show:!0,formatter:ls}},title:s.value})));return(e,t)=>{const o=(0,r.up)("apexchart");return(0,r.wg)(),(0,r.j4)($i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(o,{height:a.height,type:"bar",options:n.value,series:i.value},null,8,["height","options","series"])])),_:1})}}};const us=ns;var ds=us,cs={__name:"StackedBarChart",props:{data:{type:Object,required:!0,default:()=>({})},groupByKey:{type:String,required:!1},stackKey:{type:String,required:!0},valueKey:{type:String,required:!0},title:{type:String,default:"",required:!1},seriesName:{type:String,default:"",required:!1},formatter:{type:String,default:"",required:!1},tooltipSufix:{type:String,default:"",required:!1},tooltipPrefix:{type:String,default:"",required:!1},labelBy:{type:Object,default:null,required:!1},isHorizontal:{type:Boolean,default:!1,required:!1},height:{type:Number,default:270,required:!1},id:{type:String,required:!0}},setup(e){const a=e,t=(0,r.Fl)((()=>as(a.data,a.labelBy))),o=(0,r.Fl)((()=>ts(a.data,a.stackKey))),l=(0,r.Fl)((()=>os(t.value,a.labelBy))),i=(0,r.Fl)((()=>ss(o.value,l.value,t.value,a.stackKey,a.valueKey))),s=(0,r.Fl)((()=>({text:a.title,align:"left",margin:10,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"16px",fontWeight:"bold",fontFamily:"Secular One",color:"#263238"}}))),n=(0,r.Fl)((()=>({chart:{id:a.id,stacked:!0,toolbar:{show:!0,export:{svg:{filename:a.title.split(" ").join("_")},png:{filename:a.title.split(" ").join("_")},csv:{filename:a.title.split(" ").join("_")}}},zoom:{enabled:!0}},dataLabels:Xi,plotOptions:{bar:{horizontal:a.isHorizontal,dataLabels:{enabled:!1,total:{enabled:!0,formatter:rs,style:{fontSize:"11px",fontWeight:900}}}}},xaxis:{type:"category",categories:l.value,labels:{formatter:is}},legend:{position:"bottom",offsetY:5},fill:{opacity:1},tooltip:{x:{show:!0,formatter:ls}},title:s.value})));return(e,t)=>{const o=(0,r.up)("apexchart");return(0,r.wg)(),(0,r.j4)($i,null,{default:(0,r.w5)((()=>[i.value?.length?((0,r.wg)(),(0,r.j4)(o,{key:0,class:"h-100",height:a.height,type:"bar",options:n.value,series:i.value},null,8,["height","options","series"])):(0,r.kq)("",!0)])),_:1})}}};const ms=cs;var ps=ms,ys=t(7327);const vs={month:{type:"month",key:"Mes"},creation:{type:"value",key:"TipoCriacao"},farmName:{type:"value",key:"Cultura"},value:"valor"};class gs{constructor(){(0,ys.Z)(this,"data",{}),(0,ys.Z)(this,"id",1)}formatConfiguration({component:e,title:a,seriesName:t,valueKey:o,stackKey:r,labelBy:l,isHorizontal:i=!1,height:s=270}){return{component:e,title:a,seriesName:t,valueKey:o,stackKey:r,labelBy:l,width:400,id:"chart-item-"+this.id++,isHorizontal:i,height:s}}addChart(e,a){return this.data[e]=this.formatConfiguration(a),this}}const fs=new gs;fs.addChart("registereds",{component:ds,title:"Recenseados (quantidade)",seriesName:"Recenseados",valueKey:"Quantidade"}).addChart("workers",{component:ps,title:"Trabalhadores (quantidade)",seriesName:"Trabalhadores",valueKey:"Média de trabalhadores",stackKey:"Tipo"}).addChart("tanks",{component:ds,title:"Tanques (quantidade)",seriesName:"Tanques",valueKey:"Tanques"}).addChart("animals",{component:ps,title:"Animais (quantidade)",seriesName:"Animais",stackKey:"TipoCriacao",valueKey:"Quantidade",height:380}).addChart("animalsByType",{component:ds,title:"Animais (quantidade)",seriesName:"Animais",valueKey:"Consumo",stackKey:"TipoCriacao",labelBy:vs.creation,height:380}).addChart("underVolTanks",{component:ps,title:"Volume de captação de tanques subterrâneos (m³)",seriesName:"Volume",valueKey:"Volume/tanque",labelBy:vs.month}).addChart("underFlowTanks",{component:ps,title:"Vazão média de captação de tanques subterrâneos (m³)",seriesName:"Vazão média",valueKey:"Volume/tanque",labelBy:vs.month}).addChart("superMonthVol",{component:ps,title:"Volume de captação mensal superficial (m³)",seriesName:"Volume",valueKey:"Volume médio",labelBy:vs.month}).addChart("underMonthVol",{component:ps,title:"Volume de captação mensal subterrânea (m³)",seriesName:"Volume",valueKey:"Volume médio",labelBy:vs.month}).addChart("underMonthFlow",{component:ps,title:"Vazão média de captação mensal subterrânea (m³/h)",seriesName:"Vazão média",valueKey:"Vazão média",labelBy:vs.month}).addChart("superMonthFlow",{component:ps,title:"Vazão média de captação mensal superficial (m³/h)",seriesName:"Vazão média",labelBy:vs.month,valueKey:"Vazão média"}).addChart("secEconomic",{component:ds,title:"Segurança econômica (R$/ha)",seriesName:"Rentabilidade por área",valueKey:"RentabilidadePorArea",labelBy:vs.value}).addChart("secSocial",{component:ds,title:"Segurança social (Emprego/ha)",seriesName:"Empregos por área",valueKey:"EmpregosPorArea"}).addChart("secHydro",{component:ds,title:"Segurança hídrica (m³/ha)",seriesName:"Volume por área",valueKey:"VolumePorArea"}).addChart("secProd",{component:ds,title:"Segurança Produtiva (kg/ha)",seriesName:"Peso por área",valueKey:"PesoPorArea"}).addChart("secCultureEconomic",{component:ds,title:"Segurança econômica (R$/ha)",seriesName:"Rentabilidade por área",valueKey:"RentabilidadePorArea",labelBy:vs.farmName,isHorizontal:!0}).addChart("secCultureSocial",{component:ds,title:"Segurança social (Emprego/ha)",seriesName:"Empregos por área",valueKey:"EmpregosPorArea",labelBy:vs.farmName,isHorizontal:!0}).addChart("secCultureHydro",{component:ds,title:"Segurança hídrica (m³/ha)",seriesName:"Volume por área",valueKey:"VolumePorArea",labelBy:vs.farmName,isHorizontal:!0}).addChart("secCultureProd",{component:ds,title:"Segurança Produtiva (kg/ha)",seriesName:"Peso por área",valueKey:"PesoPorArea",labelBy:vs.farmName,isHorizontal:!0}).addChart("hydricResources",{component:ds,title:"Corte hídrico (m³/ha)",seriesName:"Volume por área",valueKey:"CorteHidrico",isHorizontal:!0,labelBy:vs.farmName,height:380});const hs=fs.data,bs={class:"text-black-50 d-flex"},_s={class:"row mb-3 mb-lg-5"},Ts={key:0,class:"col-lg-12 mt-4 h4 font-weight-bold"};var Es={__name:"ChartReports",props:{data:{type:Object,default:()=>({})},showingDataFormat:{type:Object,default:()=>({})},currentReport:{type:Object,default:()=>({})},currentDataFormat:{type:Object,default:()=>({})}},setup(e){const a=e,t=(0,p.oR)(),o=(0,r.Fl)((()=>t.state.report.isLoadingReport)),s=(0,i.iH)(a.currentReport.value),n=(0,r.Fl)((()=>{const e="Quantidade",t=a.data.registeredCount;return{data:t,valueKey:e}})),u=(0,r.Fl)((()=>!!Object.values(a.data).find((e=>e.length)))),d=(0,r.Fl)((()=>{const e="Tipo",t="Média de trabalhadores";return{data:a.data.workersCount,labels:Object.keys(a.data.workersCount),stackKey:e,valueKey:t}})),c=(0,r.Fl)((()=>{const e=v.value,t="Volume médio",o=a.data.captationCount.filter((e=>"Subterrânea"===e["Captação"]));return{data:o,stackKey:e,valueKey:t}})),m=(0,r.Fl)((()=>{const e=v.value,t="Volume médio",o=a.data.captationCount.filter((e=>"Superficial"===e["Captação"]));return{data:o,stackKey:e,valueKey:t}})),y=(0,r.Fl)((()=>{const e="TipoCriacao",t="Quantidade",o=a.data.animals;return{data:o,stackKey:e,valueKey:t}})),v=(0,r.Fl)((()=>2===a.showingDataFormat.value?"Municipio":"Bacia")),g=(0,r.Fl)((()=>{const e="QuantidadeTanques",t=a.data.aquaculture;return{data:t,valueKey:e}})),f=(0,r.Fl)((()=>{const e=v.value,t="Volume/tanque",o=a.data.tankCaptation.filter((e=>"Superficial"===e["Captação"]));return{data:o,valueKey:t,stackKey:e}})),h=(0,r.Fl)((()=>{const e=v.value,t="Volume/tanque",o=a.data.tankCaptation.filter((e=>"Subterrânea"===e["Captação"]));return{data:o,valueKey:t,stackKey:e}})),b=(0,r.Fl)((()=>{const e="RentabilidadePorArea",t=a.data.securityEconomic;return{data:t,valueKey:e}})),_=(0,r.Fl)((()=>{const e="EmpregosPorArea",t=a.data.securitySocial;return{data:t,valueKey:e}})),T=(0,r.Fl)((()=>{const e="VolumePorArea",t=a.data.securityWater;return{data:t,valueKey:e}})),E=(0,r.Fl)((()=>{const e="PesoPorArea",t=a.data.securityProductive;return{data:t,valueKey:e}})),S=(0,r.Fl)((()=>[[{...hs.registereds,data:n.value.data},{...hs.workers,data:d.value.data},{...hs.superMonthVol,stackKey:v.value,data:m.value.data},{...hs.superMonthFlow,stackKey:v.value,data:m.value.data},{...hs.underMonthVol,stackKey:v.value,data:c.value.data},{...hs.underMonthFlow,stackKey:v.value,data:c.value.data}],[{...3===a.currentDataFormat.value?hs.animalsByType:hs.animals,data:y.value.data}],[{...hs.underVolTanks,stackKey:v.value,data:h.value.data},{...hs.tanks,data:g.value.data},{...hs.underFlowTanks,stackKey:v.value,data:f.value.data}],[{...hs.secEconomic,data:b.value.data},{...hs.secSocial,data:_.value.data},{...hs.secHydro,data:T.value.data}],[{...hs.secCultureEconomic,data:b.value.data},{...hs.secCultureSocial,data:_.value.data},{...hs.secCultureHydro,data:T.value.data},{...hs.secCultureProd,data:E.value.data},{...hs.hydricResources,data:a.data.hydricResources}]]));return(0,r.YP)((()=>o.value),(e=>{e||a.currentReport.value==s.value||(s.value=a.currentReport.value)})),(e,a)=>((0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",bs," Máximo de "+(0,l.zw)((0,i.SU)(ie))+" bacias/municípios por gráfico ",1),(0,r._)("div",_s,[o.value||u.value?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",Ts," Sem dados para as localizações selecionadas ")),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(S.value[s.value-1],(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id,class:"col-lg-6 d-flex align-items-center justify-content-start mt-4"},[e.data&&e.data.length?((0,r.wg)(),(0,r.j4)((0,r.LL)(e.component),(0,l.vs)((0,r.dG)({key:0},e)),null,16)):(0,r.kq)("",!0)])))),128))])]))}};const Ss=Es;var ws=Ss;const Cs={class:"row"},Ps={class:"col-lg-12 mb-2"};var Ds={__name:"ExportData",props:{data:{type:Object,default:()=>({})},currentDataFormat:{type:Object,default:()=>({})},currentReport:{type:Object,default:()=>({})},showCities:{type:Boolean,default:!1},showBasin:{type:Boolean,default:!1},showConsuming:{type:Boolean,default:!1}},setup(e){const a=e,t=((0,i.iH)(null),(0,i.iH)(null),{title:"Cultura",field:"Cultura"}),o=(0,r.Fl)((()=>[{title:"Bacia",field:"Bacia",visible:a.showBasin||a.showCities},{title:"Municipio",field:"Municipio",visible:a.showCities}])),s=(0,r.Fl)((()=>[{title:"Quantidade de tanques",columns:[...o.value,{title:"Tanques",field:"Tanques"}],data:a.data.aquaculture},{title:"Captação de tanques",columns:[...o.value,{title:"Mês",field:"Mes"},{title:"Captação",field:"Captação"},{title:"Volume por tanque (m³)",field:"Volume/tanque"}],data:a.data.tankCaptation}])),n=(0,r.Fl)((()=>[{title:"Corte hídrico",columns:[o.value[0],t,{title:"Corte hídrico (m³/ha)",field:"CorteHidrico"}],data:a.data.hydricResources}])),u=(0,r.Fl)((()=>[{title:"Segurança econômica",columns:[{title:"Rentabilidade",field:"Rentabilidade"},{title:"Rentabilidade por área",field:"RentabilidadePorArea"}],data:a.data.securityEconomic},{title:"Segurança social",columns:[{title:"Empregos por pessoa física",field:"EmpregosPF"},{title:"Empregos por pessoa jurídica",field:"EmpregosPJ"},{title:"Empregos por área",field:"EmpregosPorArea"}],data:a.data.securitySocial},{title:"Segurança hídrica",columns:[{title:"Consumo total",field:"ConsumoTotal"},{title:"Volume por área",field:"VolumePorArea"}],data:a.data.securityWater}])),d=(0,r.Fl)((()=>u.value.map((e=>({...e,columns:[...o.value,...e.columns]}))))),c=(0,r.Fl)((()=>[...u.value.map((e=>({...e,columns:[o.value[0],t,...e.columns]}))),...n.value])),m=(0,r.Fl)((()=>[{title:"Animais",columns:[...o.value,{title:"Tipo de criação",field:"TipoCriacao"},{title:"Consumo (litros/dia)",field:"Consumo",visible:!!a.showConsuming},{title:"Quantidade",field:"Quantidade",visible:!a.showConsuming}],data:a.data.animals}])),p=(0,r.Fl)((()=>[{title:"Quantidade de recenseados",columns:[...o.value,{title:"Recenseados",field:"Quantidade"}],data:a.data.registeredCount},{title:"Quantidade de trabalhadores",columns:[...o.value,{title:"Tipo",field:"Tipo"},{title:"Trabalhadores",field:"Média de trabalhadores"}],data:a.data.workersCount},{title:"Captação mensal",columns:[...o.value,{title:"Captação",field:"Captação"},{title:"Mês",field:"Mes"},{title:"Vazão média (m³/h)",field:"Vazão média"},{title:"Volume médio (m³)",field:"Volume médio"}],data:a.data.captationCount}])),y=(0,r.Fl)((()=>1===a.currentReport.value?p.value:2===a.currentReport.value?m.value:3===a.currentReport.value?s.value:4===a.currentReport.value?d.value:5===a.currentReport.value?c.value:6===a.currentReport.value?n.value:[]));return(e,a)=>((0,r.wg)(),(0,r.iD)("div",Cs,[(0,r._)("div",Ps,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(y.value,((e,a)=>((0,r.wg)(),(0,r.j4)(Vo,{selectable:!1,key:e.title,class:(0,l.C_)(a?"mt-4":""),data:e.data,title:e.title,columns:e.columns,"is-report":""},null,8,["class","data","title","columns"])))),128))])]))}};const As=Ds;var Rs=As;const Ns={class:"d-flex flex-column align-items-start"},Vs=(0,r._)("span",{class:"label-access"}," Acessar ",-1),xs={class:"wrapper-routes d-flex mt-2"};var Bs={__name:"SubRouting",props:{routes:{required:!0,type:Array}},setup(e){const a=e,t=(0,y.yj)(),o=(0,r.Fl)((()=>t.name)),i=(0,r.Fl)((()=>a.routes.map((e=>(e.disabled=e.name===o.value,e))).sort(((e,a)=>e.disabled-a.disabled))));return(e,a)=>{const t=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",Ns,[Vs,(0,r._)("div",xs,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.value,((e,a)=>((0,r.wg)(),(0,r.j4)(t,{key:a,to:e.name,class:(0,l.C_)([{disabled:e.disabled},"nav p-2"])},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(e.label),1)])),_:2},1032,["to","class"])))),128))])])}}};const Ms=Bs;var Os=Ms;const ks={class:"mb-5 pb-lg-5"},Is={class:"my-5 mb-lg-4"},Fs={class:"mt-4 mt-lg-5"};var Us={__name:"PageView",props:{showingTab:{type:String}},setup(e){const a=(0,p.oR)(),t=[{title:"Bacia hidrográfica",value:1},{title:"Município",value:2},{title:"Tipo de criação",value:3}],o=(0,i.iH)(t[0]),l=[{title:"Geral",value:1},{title:"Animais",value:2},{title:"Aquiculturas",value:3},{title:"Indicadores por localização",value:4},{title:"Indicadores por cultura",value:5}],s=(0,i.iH)({}),n=(0,i.iH)(l[0]),u=(0,i.iH)({...n.value}),d=(0,i.iH)({...o.value}),c=(0,r.Fl)((()=>a.state.report.currentBasinFilter)),m=(0,r.Fl)((()=>t.filter((e=>2===u.value.value||(5===u.value.value?e.value<2:3!=e.value))))),y=(0,r.Fl)((()=>3===o.value.value)),v=(0,r.Fl)((()=>1===o.value.value)),g=(0,r.Fl)((()=>2===o.value.value)),f=(0,r.Fl)((()=>[{label:"Exportação de dados",name:"reports"},{label:"Visualização de gráficos",name:"charts"}])),h=(0,r.Fl)((()=>{const e=e=>{const a=1===e.value.value,t=3===e.value.value;return a||t};return{temp:e(d),loaded:e(o)}})),b=(0,r.Fl)((()=>{const e=e=>{const a=3===e.value.value;return a};return{temp:e(d),loaded:e(o)}}));a.dispatch("FETCH_PLACES_OPTIONS");const _=(0,r.Fl)((()=>({showingDataFormat:{...o.value},groupReports:{...n.value},hydrographicBasin:{...V.value},city:{...x.value}}))),T=(0,r.Fl)((()=>({showingDataFormat:{...d.value},groupReports:{...u.value},hydrographicBasin:{...B.value}}))),E=(0,r.Fl)((()=>V.value.map((e=>e["title"])))),S=e=>Object.values(e).map((e=>e.value||Object.values(e).map((e=>e.value)).join(""))).join(""),w=((0,r.Fl)((()=>{const e=S({...T.value,city:{...M.value}}),a=S({..._.value,city:{...x.value}});return a!=e})),(0,r.Fl)((()=>x.value.map((e=>e["title"]))))),C=(0,r.Fl)((()=>{const e=a.state.report.reportsData,t={};return E.value.length||w.value.length?(Object.keys(e).forEach((a=>t[a]=e[a].filter((e=>!E.value?.length||E.value.includes(e["Bacia"]))).filter((e=>!w.value?.length||w.value.includes(e["Municipio"]))))),t):e})),P=(0,r.Fl)((()=>a.state.report.hydrographicBasinOptions)),D=(0,r.Fl)((()=>[{label:"Tipo de relatório",options:l,key:"groupReportsTemp"},{label:"Agrupamento",options:m.value,key:"showingDataFormatTemp"}])),A=(0,r.Fl)((()=>[{label:"Bacias hidrográficas",options:P.value,key:"hydrographicBasinTemp",disabled:b.value.temp},{label:"Municípios",options:N.value,key:"cityTemp",disabled:h.value.temp,dependsOn:{key:"hydrographicBasinTemp",value:"IdBacia"}}])),R=((0,r.Fl)((()=>a.getters.cityOptions)),(0,r.Fl)((()=>a.state.report.isLoadingReport))),N=(0,r.Fl)((()=>a.state.report.cityOptions.filter((e=>B.value.length?B.value.find((a=>a.value==e.IdBacia)):e)))),V=(0,i.iH)([]),x=(0,i.iH)([]),B=(0,i.iH)([...V.value]),M=(0,i.iH)([...x.value]),O=e=>{e&&k(e),n.value=u.value,o.value=d.value,V.value=B.value,x.value=M.value,a.commit("SET_CURRENT_BASIN_NAME",V.value)};O();const k=e=>{let[a,t,o,r]=[e.groupReportsTemp,e.showingDataFormatTemp,e.hydrographicBasinTemp,e.cityTemp];u.value=a,d.value=t,o&&(B.value=o),r&&(M.value=r)};return(0,r.YP)((()=>o),(async e=>{h.value.loaded&&(x.value=[],M.value=x.value),b.value.loaded&&(V.value=[],B.value=V.value)}),{deep:!0}),(0,r.YP)((()=>u),(async e=>{const a=2!==e.value.value&&3===d.value.value,o=5==e.value.value;(a||o)&&(d.value=t[0])}),{deep:!0}),(0,r.YP)((()=>s.value),(async e=>{O(e)}),{deep:!0}),(0,r.YP)((()=>_.value),(async e=>{await a.dispatch("FETCH_REPORTS_DATA",e)}),{deep:!0,immediate:!0}),(0,r.YP)((()=>c.value),(e=>{s.value.hydrographicBasinTemp=e})),(0,r.YP)((()=>B.value),(e=>{if(e.length){const a=e.map((e=>e.IdBacia)),t=M.value.filter((e=>a.includes(e.IdBacia)));M.value=t}}),{deep:!0}),(a,t)=>((0,r.wg)(),(0,r.iD)("div",ks,[(0,r.Wm)(Qe,null,{default:(0,r.w5)((()=>[(0,r.Wm)(Je,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),"filters-dropdown":D.value,"filters-checkbox":A.value,"disabled-submit":R.value,onTempValues:k},null,8,["modelValue","filters-dropdown","filters-checkbox","disabled-submit"]),(0,r._)("div",Is,[(0,r.Wm)(Os,{routes:f.value},null,8,["routes"])]),(0,r._)("div",Fs,["charts"===e.showingTab?((0,r.wg)(),(0,r.j4)(ws,{key:0,"showing-data-format":o.value,data:C.value,"current-report":n.value,"current-data-format":o.value},null,8,["showing-data-format","data","current-report","current-data-format"])):((0,r.wg)(),(0,r.j4)(Rs,{key:1,"show-cities":g.value,"show-consuming":y.value,"show-basin":v.value,data:C.value,"current-report":n.value,"current-data-format":o.value},null,8,["show-cities","show-consuming","show-basin","data","current-report","current-data-format"]))])])),_:1})]))}};const Ks=Us;var js=Ks,Ls=[{path:"/reports",name:"reports",meta:{ShowNav:!0,navBarTab:4,title:"Relatórios"},component:js},{path:"/charts",name:"charts",meta:{ShowNav:!0,navBarTab:5,title:"Gráficos"},component:js,props:{showingTab:"charts"}}],Hs=[{path:"/meteorological-bodies",name:"meteorological-bodies",meta:{ShowNav:!0,title:"Órgãos meteorológicos"},component:Sr,props:ai.metereologicalBodies.list},{path:"/meteorological-bodies/edit/:id",name:"edit-body",meta:{title:`${he.edit} órgão meteorológico`},component:lr,props:ai.metereologicalBodies.update},{path:"/meteorological-bodies/create",name:"create-body",meta:{title:`${he.create} órgão meteorológico`},component:lr,props:ai.metereologicalBodies.create}].map((e=>(e.meta.navBarTab=1,e))),zs=[{path:"/equipments",name:"equipments",meta:{ShowNav:!0,title:"Equipamentos e leituras"},component:Sr,props:ai.equipments.list},{path:"/equipments/edit/:id",name:"edit-equipment",meta:{title:`${he.edit} equipamento`},component:lr,props:ai.equipments.update},{path:"/equipments/create",name:"create-equipment",meta:{title:`${he.create} equipamento`},component:lr,props:ai.equipments.create},{path:"/station-reads/:id",name:"station-reads",meta:{title:"Leituras de estação"},component:Sr,props:ai.reads.station.list},{path:"/station-reads-edit/:id",name:"station-reads-edit",meta:{title:`${he.edit} leituras de estação`},component:lr,props:ai.reads.station.update},{path:"/pluviometer-reads/:id",name:"pluviometer-reads",meta:{title:"Leituras de pluviômetro"},component:Sr,props:ai.reads.pluviometer.list},{path:"/pluviometer-reads/edit/:id",name:"pluviometer-reads-edit",meta:{title:`${he.edit} leituras de pluviômetros`},component:lr,props:ai.reads.pluviometer.update}].map((e=>(e.meta.navBarTab=2,e)));const qs={key:0},Js={key:1};var Ws=(0,r.aZ)({__name:"AuthForm",props:{isLogging:Boolean},setup(e){const a=e,t=(0,y.tv)(),o=(0,p.oR)(),l=(0,i.iH)({login:"",password:""}),s=e=>{e.preventDefault();const r=a.isLogging?"LOGIN_USER":"SEND_EMAIL_CHANGE_PASSWORD";o.dispatch(r,l.value).then((e=>{!a.isLogging||e instanceof Error||!e||t.push({path:"/users"})})).catch(console.error)};return(a,t)=>((0,r.wg)(),(0,r.j4)($t,{onSubmit:s},{content:(0,r.w5)((()=>[e.isLogging?((0,r.wg)(),(0,r.iD)("span",qs,[(0,r.Wm)(Ae,{label:"Login",modelValue:l.value.login,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value.login=e),"input-required":e.isLogging,placeholder:"Seu login"},null,8,["modelValue","input-required"]),(0,r.Wm)(Ae,{label:"Senha",modelValue:l.value.password,"onUpdate:modelValue":t[1]||(t[1]=e=>l.value.password=e),"input-type":"password",placeholder:"Sua senha"},null,8,["modelValue"])])):((0,r.wg)(),(0,r.iD)("span",Js,[(0,r.Wm)(Ae,{label:"Email",modelValue:l.value.email,"onUpdate:modelValue":t[2]||(t[2]=e=>l.value.email=e),"input-type":"email",placeholder:"Seu email"},null,8,["modelValue"])]))])),buttons:(0,r.w5)((()=>[(0,r.WI)(a.$slots,"default")])),_:3}))}});const Ys=Ws;var $s=Ys;const Gs={class:"d-flex flex-column justify-content-center"},Qs={class:"d-flex align-items-center justify-content-center pt-4"};var Zs=(0,r.aZ)({__name:"ButtonsAuth",props:{isLogging:Boolean},setup(e){const a=e,t=[{text:"Entrar",routeName:"/login"},{text:"Recuperar conta",routeName:"retrieve-account"}];let o=(0,i.iH)(t[0]),s=(0,i.iH)(t[1]);return(0,r.YP)((()=>a.isLogging),(e=>{e?[o.value,s.value]=t:[s.value,o.value]=t}),{immediate:!0}),(e,a)=>{const t=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",Gs,[(0,r.Wm)(At,{text:(0,i.SU)(o).text},null,8,["text"]),(0,r._)("div",Qs,[(0,r.Wm)(t,{to:(0,i.SU)(s).routeName,class:"ml-3 text-dark"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)((0,i.SU)(s).text),1)])),_:1},8,["to"])])])}}});const Xs=(0,d.Z)(Zs,[["__scopeId","data-v-67475878"]]);var en=Xs;const an={class:"home"},tn=(0,r._)("div",{class:"py-3"},null,-1),on=(0,r._)("div",{class:"my-5 py-5"},null,-1);var rn=(0,r.aZ)({__name:"AuthView",setup(e){const a=(0,y.yj)(),t=(0,r.Fl)((()=>a.name));let o=(0,i.iH)("login"==t.value);return(0,r.YP)(t,(e=>{o.value="login"==e})),(e,a)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",an,[(0,r.Wm)(m),tn,(0,r.Wm)($s,{"is-logging":(0,i.SU)(o)},{default:(0,r.w5)((()=>[(0,r.Wm)(en,{"is-logging":(0,i.SU)(o)},null,8,["is-logging"])])),_:1},8,["is-logging"])]),on],64))}});const ln=rn;var sn=ln;const nn={class:"home mb-5"},un=(0,r._)("div",{class:"py-4"},null,-1),dn=(0,r._)("h3",{class:"mb-3"},"Recuperar conta",-1),cn=(0,r._)("p",null,"Enviaremos os dados por email para a recuperação de sua conta",-1),mn=(0,r._)("div",{class:"mt-5 text-center"}," Caso venha a surgir algum problema ou dúvida, por favor entre em contato com a equipe de suporte via email suporte@email.com ",-1);var pn=(0,r.aZ)({__name:"RetrieveAccount",setup(e){return(e,a)=>((0,r.wg)(),(0,r.iD)("div",nn,[un,dn,cn,(0,r.Wm)($s,{"is-logging":!1},{default:(0,r.w5)((()=>[(0,r.Wm)(en,{"is-logging":!1}),mn])),_:1})]))}});const yn=pn;var vn=yn;const gn={class:"home"},fn=(0,r._)("div",{class:"mb-3 mt-4"}," Com objetivo de protejer a sua conta, tenha certeza que sua senha possui: ",-1),hn=(0,r._)("ul",null,[(0,r._)("li",null,"Mais de 6 caracteres"),(0,r._)("li",null,"Contém letras, números e símbolos"),(0,r._)("li",null,"Não combina com seu login, nome")],-1),bn=(0,r._)("div",{class:"py-2"},null,-1),_n=(0,r._)("div",{class:"py-5"},null,-1);var Tn=(0,r.aZ)({__name:"ChangePasswordView",setup(e){const a=(0,y.tv)(),t=(0,y.yj)(),o=(0,p.oR)(),l=(0,i.iH)({}),s=(0,i.iH)(!1),n=(0,i.iH)(t.query.token||""),u=e=>{if(e.preventDefault(),!0===s.value)return a.push({name:"login"});const t=l.value.password,r=l.value.password,i=es(l.value);i&&o.dispatch("CHANGE_PASSWORD",{confirmPassword:r,password:t,token:n.value}).then((()=>{s.value=!0})).catch(console.error)};return(e,a)=>((0,r.wg)(),(0,r.iD)("div",gn,[(0,r.Wm)($t,{title:"Mudar senha",onSubmit:u},(0,r.Nv)({buttons:(0,r.w5)((()=>[(0,r.Wm)(At,{text:""+(s.value?"Realizar login":"Salvar senha")},null,8,["text"])])),_:2},[s.value?{name:"content",fn:(0,r.w5)((()=>[(0,r._)("div",{class:"pt-3 pb-5"},"Senha trocada com sucesso.")])),key:"1"}:{name:"content",fn:(0,r.w5)((()=>[fn,hn,bn,(0,r.Wm)(Ae,{label:"Nova senha",modelValue:l.value.password,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value.password=e),placeholder:"Sua nova senha","input-type":"password","input-required":""},null,8,["modelValue"]),(0,r.Wm)(Ae,{label:"Confirmar nova senha",modelValue:l.value.confirmPassword,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value.confirmPassword=e),placeholder:"Confirme sua nova senha","input-type":"password","input-required":""},null,8,["modelValue"])])),key:"0"}]),1024),_n]))}});const En=Tn;var Sn=En;const wn={class:"home"},Cn=(0,r._)("div",{class:"py-4"},null,-1),Pn=(0,r._)("div",{class:"py-3"},null,-1),Dn=(0,r._)("div",{class:"py-2"},null,-1),An=(0,r._)("div",{class:"py-2"},null,-1);var Rn=(0,r.aZ)({__name:"InitialRegisterUserInfos",setup(e){const a=(0,y.tv)(),t=(0,y.yj)(),o=(0,p.oR)(),l=(0,i.iH)({}),s=(0,i.iH)(!1),n=(0,i.iH)(t.query.token||""),u=async e=>{if(e.preventDefault(),!0===s.value)return a.push({name:"login"});const t=d(l.value);t&&await o.dispatch("INITIAL_REGISTER",{...l.value,token:n.value}).then((()=>{s.value=!0})).catch(console.error)},d=({name:e,password:a,confirmPassword:t,login:o})=>{const r=[e,a,t,o].findIndex((e=>!e))>=0,l=es({password:a,confirmPassword:t});return r?(A.Am.error("Preencha todos os campos"),!1):l};return(e,a)=>((0,r.wg)(),(0,r.iD)("div",wn,[Cn,Pn,(0,r.Wm)($t,{title:"Registrar conta",onSubmit:u},(0,r.Nv)({buttons:(0,r.w5)((()=>[(0,r.Wm)(At,{text:""+(s.value?"Realizar login":"Salvar dados")},null,8,["text"])])),_:2},[s.value?{name:"content",fn:(0,r.w5)((()=>[(0,r._)("div",{class:"pt-3 pb-5"},"Conta criada com sucesso.")])),key:"1"}:{name:"content",fn:(0,r.w5)((()=>[Dn,(0,r.Wm)(Ae,{label:"Nome",modelValue:l.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value.name=e),placeholder:"Insira um nome","input-required":""},null,8,["modelValue"]),(0,r.Wm)(Ae,{label:"Login",modelValue:l.value.login,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value.login=e),placeholder:"Insira um login","input-required":""},null,8,["modelValue"]),An,(0,r.Wm)(Ae,{label:"Senha",modelValue:l.value.password,"onUpdate:modelValue":a[2]||(a[2]=e=>l.value.password=e),placeholder:"Sua senha","input-required":"","input-type":"password"},null,8,["modelValue"]),(0,r.Wm)(Ae,{label:"Confirmar senha",modelValue:l.value.confirmPassword,"onUpdate:modelValue":a[3]||(a[3]=e=>l.value.confirmPassword=e),placeholder:"Confirme sua senha","input-required":"","input-type":"password"},null,8,["modelValue"])])),key:"0"}]),1024)]))}});const Nn=Rn;var Vn=Nn,xn=[{path:"/",redirect:{path:"/users"}},{path:"/login",name:"login",meta:{title:"Login"},component:sn},{path:"/profile",name:"profile",meta:{title:"Perfil"},component:lr,props:ai.profile},{path:"/change-password",name:"change-password",meta:{title:"Trocar senha"},component:Sn},{path:"/retrieve-account",name:"retrieve-account",meta:{title:"Recuperar conta"},component:vn},{path:"/initial-register-infos",name:"initial-register-infos",meta:{title:"Concluir cadastro"},component:Vn}],Bn=[...xn,...zs,...Hs,...Ls,...ri,...Ht,...Hi,...ti,...oi,...pi,...Si,{path:"/:catchAll(.*)",meta:{title:"Rota não encontrada"},component:w}];const Mn=e=>((0,r.dD)("data-v-166467da"),e=e(),(0,r.Cn)(),e),On={class:"d-flex flex-column align-items-start mb-5"},kn={class:"p-3 bg-white d-flex align-items-center justify-content-between w-100"},In={class:"align-items-center d-flex font-weight-bold pl-3"},Fn={key:0,class:"d-flex align-items-center justify-content-center"},Un=Mn((()=>(0,r._)("i",{class:"pi pi-user pr-2",style:{color:"#708090"}},null,-1))),Kn={class:"mr-2 mr-lg-3 text-decoration-none"},jn={key:0,class:"w-100"},Ln=["href","onClick","onKeydown"];var Hn=(0,r.aZ)({__name:"NavbarTop",setup(e){(0,y.tv)();const a=(0,y.yj)(),t=(a.name,(0,p.oR)()),n=(0,r.Fl)((()=>t.state.auth)),u=(0,r.Fl)((()=>t.state.profile)),d=()=>t.dispatch("SIGN_OUT"),c=(0,r.Fl)({set(e){},get(){return t.state.currentTab}}),v=Bn.filter((e=>e.meta?.ShowNav)).map((e=>({label:e.meta?.title,route:e.path,navBarTab:e?.meta?.navBarTab,modulesNeeded:e?.meta?.modulesNeeded?.[0]??null}))).sort(((e,a)=>e.navBarTab-a.navBarTab)),g=(0,r.Fl)((()=>v.map((e=>(e.modulesNeeded&&!u.value?.modules[e?.modulesNeeded]?.read?e.disabled=!0:e.disabled=!1,e)))));return(e,a)=>{const t=(0,r.up)("router-link"),u=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)("div",On,[(0,r._)("div",kn,[(0,r.Wm)(m,{"title-size":"md"}),(0,r._)("div",In,[n.value?.login?((0,r.wg)(),(0,r.iD)("div",Fn,[(0,r.Wm)(t,{to:"/profile",class:"d-flex align-items-center justify-content-center"},{default:(0,r.w5)((()=>[Un,(0,r._)("div",Kn,(0,l.zw)(n.value.login),1)])),_:1}),(0,r._)("div",{onClick:d,class:"wrapper-sign-out"},[(0,r.Wm)(t,{to:"/login"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{class:"text-danger",icon:"fa-solid fa-sign-out"})])),_:1})])])):((0,r.wg)(),(0,r.j4)(t,{key:1,to:"/login"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Login ")])),_:1}))])]),n.value?.login?((0,r.wg)(),(0,r.iD)("div",jn,[(0,r.Wm)((0,i.SU)(s.Z),{activeIndex:c.value,"onUpdate:activeIndex":a[0]||(a[0]=e=>c.value=e),model:g.value,class:"mb-2"},{item:(0,r.w5)((({label:e,item:a,props:i})=>[a.route?((0,r.wg)(),(0,r.j4)(t,{key:0,to:a.route,class:"h-100"},{default:(0,r.w5)((a=>[(0,r._)("a",(0,r.dG)({href:a.href},i.action,{onClick:e=>a.navigate(e),onKeydown:(0,o.D2)((e=>a.navigate(e)),["enter","space"])}),[(0,r._)("span",(0,l.vs)((0,r.F4)(i.label)),(0,l.zw)(e),17)],16,Ln)])),_:2},1032,["to"])):(0,r.kq)("",!0)])),_:1},8,["activeIndex","model"])])):(0,r.kq)("",!0)])}}});const zn=(0,d.Z)(Hn,[["__scopeId","data-v-166467da"]]);var qn=zn,Jn=(0,r.aZ)({__name:"App",setup(e){return(e,a)=>{const t=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(qn),(0,r.Wm)(t)])}}});const Wn=Jn;var Yn=Wn,$n=t(5431);(0,$n.z)("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var Gn=t(407),Qn=t.n(Gn),Zn={state:()=>({list:{data:[],apiPagination:{pages:1,total:0}},update:{},cron_options:{data:[]}}),mutations:{["SET_LIST"](e,a){e.list=a},["SET_CURRENT"](e,a){e.update=a},["SET_CRON_OPTIONS"](e,a){e.cron_options=a}},actions:{FETCH_CRON_OPTIONS:{async handler({commit:e}){try{const a=ce;e("SET_CRON_OPTIONS",{data:a})}catch(a){console.error(a)}}},GET_CRONS:{async handler({commit:e},a){try{const{data:{data:{Data:t,QtdPages:o,QtdRows:r,PageLimitRows:l}}}=await O.get(le("v1/jobs/schedule",a)),i=t.map((e=>({id:e.name,...e.options,...e,cron_text_formatted:pe[e.cron]}))),s={pages:o,total:r,pageLimit:l};e("SET_LIST",{data:i,apiPagination:s})}catch(t){console.error(t),A.Am.error("Erro ao buscar crons")}}},CREATE_CRON:{async handler(e,a){try{const{name:e,cron_text_formatted:t,priority:o,retryLimit:r,retryDelay:l}=a,i={name:e,cron:t.value,data:null,options:{priority:o,retryLimit:r,retryDelay:l}};await O.post("v1/jobs/schedule",i),A.Am.success("Rotina criada com sucesso")}catch(t){throw console.error(t),A.Am.error("Falha ao criar rotina"),Error(t?.response?.data?.error)}}},UPDATE_CRON:{async handler(e,a){try{const{name:e,cron_text_formatted:t,priority:o,retryLimit:r,retryDelay:l}=a,i={name:e,cron:t.value,data:null,options:{priority:o,retryLimit:r,retryDelay:l}};await O.put("v1/jobs/schedule/",i),A.Am.success("Rotina atualizada com sucesso")}catch(t){throw console.error(t),A.Am.error("Falha ao atualizar rotina"),Error(t?.response?.data?.error)}}},GET_CURRENT_CRON:{async handler({commit:e,dispatch:a,state:t},o){try{await a("GET_CRONS");const r=t.list.data.find((e=>e.id==o));e("SET_CURRENT",r)}catch(r){e("SET_CURRENT",{}),console.error(r),A.Am.error(r)}}},DELETE_CRONS:{async handler(e,a){try{await Promise.allSettled(a.map((async e=>await O.delete(`v1/jobs/schedule?name=${e}`)))),A.Am.success("Sucesso ao deletar rotinas(s)")}catch(t){throw console.error(t),A.Am.success("Falha ao deletar rotinas(s)"),Error(t?.response?.data?.error)}}}},getters:{cronOptions(e){const a=e.cron_options.data.map((e=>({value:e["key"],title:e["value"]})));return[se,...a]}}},Xn={state:()=>({list:{data:[]},update:{},status_options:{data:[]}}),mutations:{["SET_LIST"](e,a){e.list=a},["SET_CURRENT"](e,a){e.update=a},["SET_STATUS_OPTIONS"](e,a){e.status_options=a}},actions:{FETCH_STATUS_OPTIONS:{async handler({commit:e}){try{const a=me;e("SET_STATUS_OPTIONS",{data:a})}catch(a){console.error(a)}}},GET_STATUS:{async handler({commit:e},a){try{const{data:{data:{Data:t,QtdPages:o,QtdRows:r,PageLimitRows:l}}}=await O.get(le("v1/jobs",a)),i=t.map((e=>({...e,status_text_formatted:ye[e.state]}))),s={pages:o,total:r,pageLimit:l};e("SET_LIST",{data:i,apiPagination:s})}catch(t){console.error(t),A.Am.error("Erro ao buscar status")}}},CREATE_STATUS:{async handler(e,a){try{const{name:e,id:t,status_text_formatted:o,priority:r,retryLimit:l,retryDelay:i}=a,s={name:e,state:o.value,data:null,id:t,priority:r,retrylimit:l,retrydelay:i};await O.post("v1/jobs",s),A.Am.success("Rotina criada com sucesso")}catch(t){throw console.error(t),A.Am.error("Falha ao criar rotina"),Error(t?.response?.data?.error)}}},UPDATE_STATUS:{async handler(e,a){try{const{name:e,id:t,status_text_formatted:o,priority:r,retryLimit:l,retryDelay:i}=a,s={name:e,state:o.value,data:null,id:t,priority:r,retrylimit:l,retrydelay:i};await O.put("v1/jobs",s),A.Am.success("Rotina atualizada com sucesso")}catch(t){throw console.error(t),A.Am.error("Falha ao atualizar rotina"),Error(t?.response?.data?.error)}}},GET_CURRENT_STATUS:{async handler({commit:e,dispatch:a,state:t},o){try{let r={name:"",status:"0 0 * * *",timezone:"America/Fortaleza",data:null,tz:"America/Fortaleza",priority:2,retryDelay:60,retryLimit:3,created_on:"",updated_on:""};o&&(await a("GET_STATUS"),r=t.list.data.find((e=>e.id==o))),e("SET_CURRENT",r)}catch(r){e("SET_CURRENT",{}),console.error(r),A.Am.error(r)}}},DELETE_STATUS:{async handler(e,a){try{await Promise.allSettled(a.map((async e=>await O.delete(`v1/jobs/?id=${e}`)))),A.Am.success("Sucesso ao deletar status de rotina(s)")}catch(t){throw console.error(t),A.Am.success("Falha ao deletar status de rotina(s)"),Error(t?.response?.data?.error)}}}},getters:{statusOptions(e){const a=e.status_options.data.map((e=>({value:e["key"],title:e["value"]})));return[se,...a]}}},eu={state:()=>({list:{data:[]},update:{}}),mutations:{["SET_LIST"](e,a){e.list=a},["SET_CURRENT"](e,a){e.update=a}},actions:{GET_NEWSLETTERS:{async handler({commit:e}){try{const{data:{data:a}}=await O.get("v1/news"),t=a?.Data||[];e("SET_LIST",{data:t.map(X).map((e=>e))})}catch(a){console.error(a),A.Am.error("Erro ao buscar notícias.")}}},CREATE_NEWSLETTER:{async handler(e,a){try{const e={FK_Author:1,Title:a.Title,Description:a.Description,Data:te(a.Text),SendDate:oe(a.SendDate)};await O.post("v1/news/",e),A.Am.success("Notícia criada com sucesso.")}catch(t){throw console.error(t),A.Am.error("Falha ao criar notícia."),Error(t?.response?.data?.error)}}},UPDATE_NEWSLETTER:{async handler(e,a){try{const e={FK_Author:1,Title:a.Title,Description:a.Description,Data:te(a.Text),SendDate:oe(a.SendDate)};await O.put(`v1/news/${a.Id}`,e),A.Am.success("Notícia atualizada com sucesso.")}catch(t){throw console.error(t),A.Am.error("Falha ao atualizar notícia."),Error(t?.response?.data?.error)}}},DELETE_NEWSLETTER:{async handler(e,a){try{await Promise.allSettled(a.map((async e=>await O.delete(`v1/news/${e}`)))),A.Am.success("Sucesso ao deletar notícia(s)")}catch(t){throw console.error(t),A.Am.success("Falha ao deletar notícia(s)"),Error(t?.response?.data?.error)}}},GET_CURRENT_NEWSLETTER:{async handler({commit:e},a){try{let{data:{data:t}}=await O.get(`v1/news/${a}`);if(!t)throw new Error("Erro ao encontrar notícia.");t=X(t),t.Text=ae(t.Data),e("SET_CURRENT",t)}catch(t){e("SET_CURRENT",{}),console.error(t),A.Am.error(t)}}}},getters:{}};const au={registeredCount:[{Bacia:"Baixo Jaguaribe",Quantidade:0},{Bacia:"Alto Jaguaribe",Quantidade:0},{Bacia:"Médio Jaguaribe",Quantidade:0}],captationCount:[{Bacia:"Alto Jaguaribe",Mes:"Janeiro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Janeiro","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Fevereiro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Fevereiro","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Março","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Março","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Abril","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Abril","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Maio","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Maio","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Junho","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Junho","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Julho","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Julho","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Agosto","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Agosto","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Setembro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Setembro","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Outubro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Outubro","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Novembro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Novembro","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Dezembro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Alto Jaguaribe",Mes:"Dezembro","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Janeiro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Janeiro","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Fevereiro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Fevereiro","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Março","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Março","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Abril","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Abril","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Maio","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Maio","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Junho","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Junho","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Julho","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Julho","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Agosto","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Agosto","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Setembro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Setembro","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Outubro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Outubro","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Novembro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Novembro","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Dezembro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Baixo Jaguaribe",Mes:"Dezembro","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Janeiro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Janeiro","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Fevereiro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Fevereiro","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Março","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Março","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Abril","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Abril","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Maio","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Maio","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Junho","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Junho","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Julho","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Julho","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Agosto","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Agosto","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Setembro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Setembro","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Outubro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Outubro","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Novembro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Novembro","Captação":"Superficial","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Dezembro","Captação":"Subterrânea","Vazão média":0,"Volume médio":0},{Bacia:"Médio Jaguaribe",Mes:"Dezembro","Captação":"Superficial","Vazão média":0,"Volume médio":0}],workersCount:[{Bacia:"Alto Jaguaribe",Tipo:"Pessoa Física","Média de trabalhadores":0},{Bacia:"Médio Jaguaribe",Tipo:"Pessoa Jurídica","Média de trabalhadores":0},{Bacia:"Médio Jaguaribe",Tipo:"Pessoa Física","Média de trabalhadores":0},{Bacia:"Alto Jaguaribe",Tipo:"Pessoa Jurídica","Média de trabalhadores":0},{Bacia:"Baixo Jaguaribe",Tipo:"Pessoa Física","Média de trabalhadores":0},{Bacia:"Baixo Jaguaribe",Tipo:"Pessoa Jurídica","Média de trabalhadores":0}],aquaculture:[],tankCaptation:[],securityWater:[],securitySocial:[],securityEconomic:[],securityProductive:[],hydricResources:[]},tu={"Alto Jaguaribe":[{Cultura:"ABACATE",CorteHidrico:11},{Cultura:"AÇAI",CorteHidrico:18},{Cultura:"ACEROLA",CorteHidrico:28},{Cultura:"ARROZ",CorteHidrico:57},{Cultura:"ATA",CorteHidrico:24},{Cultura:"CAJU",CorteHidrico:30}],"Baixo Jaguaribe":[{Cultura:"ABACATE",CorteHidrico:2128},{Cultura:"AÇAI",CorteHidrico:3080},{Cultura:"ACEROLA",CorteHidrico:257},{Cultura:"ARROZ",CorteHidrico:1160},{Cultura:"ATA",CorteHidrico:454},{Cultura:"CAJU",CorteHidrico:0}],"Médio Jaguaribe":[{Cultura:"ABACATE",CorteHidrico:9199},{Cultura:"AÇAI",CorteHidrico:9273},{Cultura:"ACEROLA",CorteHidrico:339},{Cultura:"ACEROLA",CorteHidrico:1393},{Cultura:"ARROZ",CorteHidrico:1818},{Cultura:"ATA",CorteHidrico:1082},{Cultura:"CAJU",CorteHidrico:0}]},ou={hydricResources:null};var ru={state:()=>({cityOptions:[],hydrographicBasinOptions:[{title:"Alto Jaguaribe",value:1},{title:"Baixo Jaguaribe",value:2}],isLoadingReport:!1,reportsData:au,currentBasinFilter:[],reportsDataAll:ou}),mutations:{["SET_OPTIONS"](e,{basins:a,cities:t}){e.cityOptions=t,e.hydrographicBasinOptions=a},["SET_REPORTS_DATA"](e,a){e.reportsData={...au,...a}},["SET_LOADING_REPORT"](e,a){e.isLoadingReport=a},["SET_CURRENT_BASIN_NAME"](e,a){const t=j(e.currentBasinFilter),o=j(a);t!=o&&(e.currentBasinFilter=a)},["SET_REPORTS_DATA_ALL"](e,a){e.reportsDataAll={...ou,...a}}},actions:{async["FETCH_REPORT_GENERAL"]({commit:e},a){try{const t=a.showingDataFormat.value,o=de[t],r=await Promise.all([await O.get(`v1/census/workers/${o}`),await O.get(`v1/census/captation/${o}`),await O.get(`v1/census/census-takers/${o}`)]),[l,i,s]=r.map((e=>e.data.data));e("SET_REPORTS_DATA",{workersCount:l,captationCount:i,registeredCount:s})}catch(t){console.error(t)}},async["FETCH_REPORT_AQUACULTURE"]({commit:e},a){try{const t=a.showingDataFormat.value,o=de[t],r=await Promise.all([await O.get(`v1/census/captation/tank/${o}`),await O.get(`v1/census/aquaculture/${o}`)]),[l,i]=r.map((e=>e.data.data));e("SET_REPORTS_DATA",{tankCaptation:l,aquaculture:i})}catch(t){console.error(t)}},async["FETCH_REPORT_INDICATORS"]({commit:e},a){try{const t=a.showingDataFormat.value,o=de[t],r=await Promise.all([await O.get(`v1/census/indicator/security/water/${o}`),await O.get(`v1/census/indicator/security/social/${o}`),await O.get(`v1/census/indicator/security/economic/${o}`)]),[l,i,s]=r.map((e=>e.data.data.map($).map(G)));e("SET_REPORTS_DATA",{securityWater:l,securitySocial:i,securityEconomic:s,securityProductive:[]})}catch(t){console.error(t)}},async["FETCH_REPORT_CULTURE_INDICATORS"]({state:e,commit:a,dispatch:t},o){try{const r=o.showingDataFormat.value,l=(de[r],o.hydrographicBasin?.[0]?.value);await t("FETCH_FIRST_BASIN",l);const i=e.currentBasinFilter[0].value,s=await Promise.all([await O.get(`v1/census/cultures/${i}`)]);console.log("waaaaw",s.map((e=>e.data.data[0].Cultures)));const[n,u,d]=s.map((e=>e.data.data.map($).map(G))),c=e=>{const a={"Alto Jaguaribe":"Banana","Médio Jaguaribe":"Laranja","Baixo Jaguaribe":"Limão"};return e.map((e=>(e.Cultura=a[e.Bacia],e)))},m=d.map((e=>(e.PesoPorArea=Math.floor(Math.sqrt(e.RentabilidadePorArea)),e)));e.reportsDataAll.hydroResourcesAll||a("SET_REPORTS_DATA_ALL",{hydricResources:tu});const p=e.reportsDataAll.hydricResources;await t("FETCH_SINGLE_BASIN",{...o,currentReportData:p});let y=e.currentBasinFilter[0].title;const v=p[y].map($).map(G).map((e=>(e.Bacia=y,e)));a("SET_REPORTS_DATA",{securityWater:c(n),securitySocial:c(u),securityEconomic:c(d),securityProductive:c(m),hydricResources:v})}catch(r){console.error(r)}},async["FETCH_FIRST_BASIN"]({state:e,commit:a,dispatch:t},o){await t("FETCH_PLACES_OPTIONS");const r=Object.values(e.hydrographicBasinOptions)[0],l=e.currentBasinFilter;l?.length||a("SET_CURRENT_BASIN_NAME",[r]),console.log("pedindo o bixo pra setar o basin",o,l,r)},async["FETCH_SINGLE_BASIN"]({state:e,commit:a,dispatch:t},o){const r=o.currentReportData,l=Object.keys(o.hydrographicBasin),i=o.hydrographicBasin?.[l[l.length-1]],s=i?.title;let n=s,u=[i];n||(n=Object.keys(r)[0],u=[e.hydrographicBasinOptions.find((e=>e.title===n))]),a("SET_CURRENT_BASIN_NAME",u)},async["FETCH_REPORT_RESOURCES"]({state:e,commit:a,dispatch:t},o){try{const r=o.showingDataFormat.value,l=de[r];await Promise.all([await O.get(`v1/census/captation/tank/${l}`),await O.get(`v1/census/aquaculture/${l}`)]);e.reportsDataAll.hydroResourcesAll||a("SET_REPORTS_DATA_ALL",{hydricResources:tu});const i=e.reportsDataAll.hydricResources;await t("FETCH_SINGLE_BASIN",{...o,currentReportData:i});let s=e.currentBasinFilter[0].title;const n=i[s].map($).map(G).map((e=>(e.Bacia=s,e)));a("SET_REPORTS_DATA",{hydricResources:n})}catch(r){console.error(r)}},async["FETCH_REPORT_ANIMALS"]({commit:e},a){try{const t=a.showingDataFormat.value,o=de[t],{data:{data:r}}=await O.get(`v1/census/animals/${o}`);e("SET_REPORTS_DATA",{animals:3===t?r:Q(r,o)})}catch(t){console.error(t)}},async["FETCH_REPORTS_DATA"]({commit:e,dispatch:a},t){try{e("SET_LOADING_REPORT",!0);const o=t.groupReports.value;1===o?await a("FETCH_REPORT_GENERAL",t):2===o?await a("FETCH_REPORT_ANIMALS",t):3===o?await a("FETCH_REPORT_AQUACULTURE",t):4===o?await a("FETCH_REPORT_INDICATORS",t):5===o?await a("FETCH_REPORT_CULTURE_INDICATORS",t):6===o&&await a("FETCH_REPORT_RESOURCES",t)}catch(o){console.error(o)}finally{e("SET_LOADING_REPORT",!1)}},async["FETCH_PLACES_OPTIONS"]({commit:e}){try{const a=e=>e.map((e=>({value:e["Id"],title:e["Local"],IdBacia:e["IdBacia"]||e["Id"]}))),{data:t}=await O.get("v1/census/locations");let[o,r]=[t.data.Bacia,t.data.Municipio];return[o,r]=[a(o),a(r)],e("SET_OPTIONS",{basins:o,cities:r}),!0}catch(a){console.error(a)}}},getters:{cityOptions(e){return e.currentBasinFilter},basinOptions:e=>e.hydrographicBasinOptions.map((e=>({title:e.title,value:e.value})))}},lu={state:()=>({pageExtraTitle:""}),mutations:{["SET_PAGE_TITLE"](e,a){e.pageExtraTitle=a}},actions:{async["CLEAR_PAGE_TITLE"]({commit:e}){e("SET_PAGE_TITLE","")}}},iu={state:()=>({list:{data:[],apiPagination:{pages:1,total:0}},update:{}}),mutations:{["SET_LIST_CULTURE"](e,a){e.list=a},["SET_CURRENT_CULTURE"](e,a){e.update=a}},actions:{GET_CULTURES:{async handler({commit:e},a){try{if(!a||0===a.length||a.length>=3){const{data:{data:t}}=await O.get(`v2/management/crop?name=${a||""}`);t.map((e=>e.Basin=e.locationName)),e("SET_LIST_CULTURE",{data:t})}}catch(t){console.error(t),A.Am.error("Cultura não encontrada")}}},CREATE_CULTURE:{async handler(e,a){try{const{name:e,data:t}=a,o={Name:e},r=await O.post("v2/management/crop",o);await O.post(`v2/management/crop/cycles/${r.data.data}`,{data:t}),A.Am.success("Cultura criada com sucesso!")}catch(t){throw A.Am.error("Falha ao criar rotina"),Error(t?.response?.data?.error)}}},UPDATE_CULTURE:{async handler(e,a){try{const{name:e,id:t}=a,o={name:e,id:t};await O.put(`v2/management/crop/${t}`,o),A.Am.success("Cultura atualizada com sucesso")}catch(t){throw console.error(t),A.Am.error("Falha ao atualizar rotina"),Error(t?.response?.data?.error)}}},GET_CURRENT_CULTURE:{async handler({commit:e,dispatch:a,state:t},o){try{const a=await O.get(`v2/management/crop/${o}`),t=await O.get(`v2/management/crop/cycles/${o}`),r={culture:a.data.data,cycle:t.data.data};e("SET_CURRENT_CULTURE",r)}catch(r){e("SET_CURRENT_CULTURE",{}),console.log("errou aqui"),A.Am.error(r)}}},DELETE_CULTURES:{async handler(e,a){try{await O.delete(`v1/management/crop/${a}`),A.Am.success("Cultura  deletado")}catch(t){throw console.error(t),A.Am.error("Falha ao deletar cultura"),Error(t?.response?.data?.error)}}}}},su={state:()=>({list:{data:[],apiPagination:{pages:1,total:0}},update:{}}),mutations:{["SET_LIST_WEIGHT"](e,a){e.list=a},["SET_CURRENT_WEIGHT"](e,a){e.update=a}},actions:{GET_WEIGHTS:{async handler({commit:e},a){try{const a=[{Id:1,cultureCycle:1,Plant_Name:"Tomate",ProductivityPerKilo:1,ProductivityPerMeters:1,ProfitabilityPerMeters:"2",ProfitabilityPerHectare:"2",JobsPerHectare:"3",JobsPerMeters:"3",Basin:"Banabuiú",WaterConsumptionPerMeters:"4",Location_Name:"Localização1",CreatedAt:(new Date).toISOString(),UpdatedAt:(new Date).toISOString()},{Id:2,cultureCycle:2,Plant_Name:"Maçã",ProductivityPerKilo:5,ProductivityPerMeters:5,ProfitabilityPerMeters:"6",ProfitabilityPerHectare:"6",JobsPerHectare:"7",JobsPerMeters:"7",Basin:"Médio Jaguaribe",WaterConsumptionPerMeters:"8",Location_Name:"Localização2",CreatedAt:(new Date).toISOString(),UpdatedAt:(new Date).toISOString()},{Id:3,cultureCycle:3,Plant_Name:"Milho de lavanda azul",ProductivityPerKilo:9,ProductivityPerMeters:9,ProfitabilityPerMeters:"10",ProfitabilityPerHectare:"10",JobsPerHectare:"11",JobsPerMeters:"11",Basin:"Baixo Jaguaribe",WaterConsumptionPerMeters:"12",Location_Name:"Localização3",CreatedAt:(new Date).toISOString(),UpdatedAt:(new Date).toISOString()},{Id:4,cultureCycle:4,Plant_Name:"Uva",ProductivityPerKilo:1,ProductivityPerMeters:1,ProfitabilityPerMeters:"14",ProfitabilityPerHectare:"14",JobsPerHectare:"15",JobsPerMeters:"15",Basin:"Alto Jaguaribe",WaterConsumptionPerMeters:"16",Location_Name:"Localização4",CreatedAt:(new Date).toISOString(),UpdatedAt:(new Date).toISOString()},{Id:5,cultureCycle:5,Plant_Name:"Cenoura",ProductivityPerKilo:1,ProductivityPerMeters:1,ProfitabilityPerMeters:"18",ProfitabilityPerHectare:"18",JobsPerHectare:"19",JobsPerMeters:"19",Basin:"Salgado",WaterConsumptionPerMeters:"20",Location_Name:"Localização5",CreatedAt:(new Date).toISOString(),UpdatedAt:(new Date).toISOString()},{Id:6,cultureCycle:6,Plant_Name:"Batata",ProductivityPerKilo:2,ProductivityPerMeters:2,ProfitabilityPerMeters:"22",ProfitabilityPerHectare:"22",JobsPerHectare:"23",JobsPerMeters:"23",Basin:"Alto Jaguaribe",WaterConsumptionPerMeters:"24",Location_Name:"Localização6",CreatedAt:(new Date).toISOString(),UpdatedAt:(new Date).toISOString()},{Id:7,cultureCycle:7,Plant_Name:"Pêssego",ProductivityPerKilo:2,ProductivityPerMeters:2,ProfitabilityPerMeters:"26",ProfitabilityPerHectare:"26",JobsPerHectare:"27",JobsPerMeters:"27",Basin:"Alto Jaguaribe",WaterConsumptionPerMeters:"28",Location_Name:"Localização7",CreatedAt:(new Date).toISOString(),UpdatedAt:(new Date).toISOString()},{Id:8,cultureCycle:8,Plant_Name:"Abóbora",ProductivityPerKilo:2,ProductivityPerMeters:2,ProfitabilityPerMeters:"30",ProfitabilityPerHectare:"30",JobsPerHectare:"31",JobsPerMeters:"31",Basin:"Alto Jaguaribe",WaterConsumptionPerMeters:"32",Location_Name:"Localização8",CreatedAt:(new Date).toISOString(),UpdatedAt:(new Date).toISOString()}].map(((e,a)=>(e.CropCycle=[{Stage_Title:"Pré plantio",Duration_In_Days:5,KC:.5},{Stage_Title:"Plantio",Duration_In_Days:5,KC:1},{Stage_Title:"Amadurecimento",Duration_In_Days:12,KC:1.2},{Stage_Title:"Pré colheita 1 ",Duration_In_Days:3,KC:.8},{Stage_Title:"Pré colheita 2",Duration_In_Days:2,KC:.8},{Stage_Title:"Pré colheita 3",Duration_In_Days:2,KC:.8},{Stage_Title:"Pré colheita 4",Duration_In_Days:2,KC:.8}].map(((e,t)=>(e.id=t+1,e.Duration_In_Days+=a,e.KC+=a,e))),e)));e("SET_LIST_WEIGHT",{data:a})}catch(t){console.error(t),A.Am.error("Erro ao buscar culturas")}}},UPDATE_WEIGHT:{async handler(e,a){try{const{name:e,cron_text_formatted:t,priority:o,retryLimit:r,retryDelay:l}=a,i={name:e,cron:t.value,data:null,options:{priority:o,retryLimit:r,retryDelay:l}};await O.put("v1/jobs/schedule/",i),A.Am.success("Pesos atualizados com sucesso")}catch(t){throw console.error(t),A.Am.error("Falha ao atualizar rotina"),Error(t?.response?.data?.error)}}},GET_CURRENT_WEIGHT:{async handler({commit:e,dispatch:a,state:t},o){try{await a("GET_WEIGHTS");const r=t.list.data;console.log("pedi os dados do peso atual",o),e("SET_CURRENT_WEIGHT",{currentBasin:o,Weights:r.map((e=>(e.cultureCycle=.19*o.value,e)))})}catch(r){console.error("Falhou ao pegar dados de peso"),e("SET_CURRENT_WEIGHT",{}),console.error(r),A.Am.error(r)}}}}},nu={state:()=>({list:{data:[],apiPagination:{pages:1,total:0}},update:{}}),mutations:{["SET_LIST_STUDY"](e,a){e.list=a},["SET_CURRENT_STUDY"](e,a){e.update=a}},actions:{GET_STUDYS:{async handler({commit:e},a){try{const a=[{Id:1,cultureCycle:1,Plant_Name:"Tomate",ProductivityPerKilo:1,ProductivityPerMeters:1,ProfitabilityPerMeters:"2",ProfitabilityPerHectare:"2",JobsPerHectare:"3",JobsPerMeters:"3",Basin:"Banabuiú",WaterConsumptionPerMeters:"4",Location_Name:"Localização1",CreatedAt:(new Date).toISOString(),UpdatedAt:(new Date).toISOString()},{Id:2,cultureCycle:2,Plant_Name:"Maçã",ProductivityPerKilo:5,ProductivityPerMeters:5,ProfitabilityPerMeters:"6",ProfitabilityPerHectare:"6",JobsPerHectare:"7",JobsPerMeters:"7",Basin:"Médio Jaguaribe",WaterConsumptionPerMeters:"8",Location_Name:"Localização2",CreatedAt:(new Date).toISOString(),UpdatedAt:(new Date).toISOString()},{Id:3,cultureCycle:3,Plant_Name:"Milho de lavanda azul",ProductivityPerKilo:9,ProductivityPerMeters:9,ProfitabilityPerMeters:"10",ProfitabilityPerHectare:"10",JobsPerHectare:"11",JobsPerMeters:"11",Basin:"Baixo Jaguaribe",WaterConsumptionPerMeters:"12",Location_Name:"Localização3",CreatedAt:(new Date).toISOString(),UpdatedAt:(new Date).toISOString()},{Id:4,cultureCycle:4,Plant_Name:"Uva",ProductivityPerKilo:1,ProductivityPerMeters:1,ProfitabilityPerMeters:"14",ProfitabilityPerHectare:"14",JobsPerHectare:"15",JobsPerMeters:"15",Basin:"Alto Jaguaribe",WaterConsumptionPerMeters:"16",Location_Name:"Localização4",CreatedAt:(new Date).toISOString(),UpdatedAt:(new Date).toISOString()},{Id:5,cultureCycle:5,Plant_Name:"Cenoura",ProductivityPerKilo:1,ProductivityPerMeters:1,ProfitabilityPerMeters:"18",ProfitabilityPerHectare:"18",JobsPerHectare:"19",JobsPerMeters:"19",Basin:"Salgado",WaterConsumptionPerMeters:"20",Location_Name:"Localização5",CreatedAt:(new Date).toISOString(),UpdatedAt:(new Date).toISOString()},{Id:6,cultureCycle:6,Plant_Name:"Batata",ProductivityPerKilo:2,ProductivityPerMeters:2,ProfitabilityPerMeters:"22",ProfitabilityPerHectare:"22",JobsPerHectare:"23",JobsPerMeters:"23",Basin:"Alto Jaguaribe",WaterConsumptionPerMeters:"24",Location_Name:"Localização6",CreatedAt:(new Date).toISOString(),UpdatedAt:(new Date).toISOString()},{Id:7,cultureCycle:7,Plant_Name:"Pêssego",ProductivityPerKilo:2,ProductivityPerMeters:2,ProfitabilityPerMeters:"26",ProfitabilityPerHectare:"26",JobsPerHectare:"27",JobsPerMeters:"27",Basin:"Alto Jaguaribe",WaterConsumptionPerMeters:"28",Location_Name:"Localização7",CreatedAt:(new Date).toISOString(),UpdatedAt:(new Date).toISOString()},{Id:8,cultureCycle:8,Plant_Name:"Abóbora",ProductivityPerKilo:2,ProductivityPerMeters:2,ProfitabilityPerMeters:"30",ProfitabilityPerHectare:"30",JobsPerHectare:"31",JobsPerMeters:"31",Basin:"Alto Jaguaribe",WaterConsumptionPerMeters:"32",Location_Name:"Localização8",CreatedAt:(new Date).toISOString(),UpdatedAt:(new Date).toISOString()}].map(((e,a)=>(e.CropCycle=[{Stage_Title:"Pré plantio",Duration_In_Days:5,KC:.5},{Stage_Title:"Plantio",Duration_In_Days:5,KC:1},{Stage_Title:"Amadurecimento",Duration_In_Days:12,KC:1.2},{Stage_Title:"Pré colheita 1 ",Duration_In_Days:3,KC:.8},{Stage_Title:"Pré colheita 2",Duration_In_Days:2,KC:.8},{Stage_Title:"Pré colheita 3",Duration_In_Days:2,KC:.8},{Stage_Title:"Pré colheita 4",Duration_In_Days:2,KC:.8}].map(((e,t)=>(e.id=t+1,e.Duration_In_Days+=a,e.KC+=a,e))),e)));e("SET_LIST_STUDY",{data:a})}catch(t){console.error(t),A.Am.error("Erro ao buscar culturas")}}},UPDATE_STUDY:{async handler(e,a){try{const{name:e,cron_text_formatted:t,priority:o,retryLimit:r,retryDelay:l}=a,i={name:e,cron:t.value,data:null,options:{priority:o,retryLimit:r,retryDelay:l}};await O.put("v1/jobs/schedule/",i),A.Am.success("Pesos atualizados com sucesso")}catch(t){throw console.error(t),A.Am.error("Falha ao atualizar rotina"),Error(t?.response?.data?.error)}}},GET_CURRENT_STUDY:{async handler({commit:e,dispatch:a,state:t},o){try{console.log("pediu os dados de estudo viu ",o),await a("GET_STUDYS");const r=t.list.data;e("SET_CURRENT_STUDY",{currentBasin:o,studys:r.map((e=>(e.cultureCycle=.19*o.value,e)))})}catch(r){console.error("Falhou ao pegar dados de peso"),e("SET_CURRENT_STUDY",{}),console.error(r),A.Am.error(r)}}}}},uu={cron:Zn,status:Xn,newsletter:eu,report:ru,page:lu,culture:iu,weight:su,study:nu};const du=e=>{const a=5,t=e.length-4,o=e.slice(0,a),r=e.slice(a,t).split("").map((()=>"*")).join(""),l=e.slice(t,e.length);return`${o}${r}${l}`},cu=()=>localStorage.getItem("tkn"),mu=e=>localStorage.setItem("tkn",e),pu=()=>localStorage.setItem("tkn",""),yu=(Symbol(),(0,p.MT)({modules:uu,state:{auth:null,currentTab:0,currentBody:null,currentEquipment:null,metereologicalBodies:{data:[]},typesEquipments:{data:[]},users:{data:[],totalAdmins:0,totalBasics:0,totalActives:0,totalInactives:0},equipments:{data:[],totalStations:0,totalPluviometers:0,apiPagination:{pages:1,total:0}},currentStationRead:null,currentPluviometerRead:null,readsStation:{data:[],apiPagination:{pages:1,total:0}},readsPluviometer:{data:[],apiPagination:{pages:1,total:0}},reportsFilters:{showPerBasin:!0},currentUser:null,profile:null},mutations:{["SET_BODIES_OPTIONS"](e,a){e.metereologicalBodies=a},["SET_CURRENT_TAB"](e,a){e.currentTab=a},["SET_TYPES_EQUIPMENTS_OPTIONS"](e,a){e.typesEquipments=a},["SET_EQUIPMENTS"](e,a){e.equipments=a},["SET_STATION_READS"](e,a){e.readsStation=a},["SET_PLUVIOMETER_READS"](e,a){e.readsPluviometer=a},["SET_USER"](e,a){e.auth=a,W(a?.token||"")},["SET_SHOW_PER_BACIN"](e,a){e.reportsFilters.showPerBasin=a},["SET_USERS"](e,a){e.users=a},["SET_CURRENT_USER"](e,a){e.currentUser=a},["SET_CURRENT_BODY"](e,a){e.currentBody=a},["SET_CURRENT_EQUIPMENT"](e,a){e.currentEquipment=a},["SET_CURRENT_STATION_READ"](e,a){e.currentStationRead=a},["SET_CURRENT_PLUVIOMETER_READ"](e,a){e.currentPluviometerRead=a},["SET_CURRENT_PROFILE"](e,a){e.profile=a},["SET_CULTURE"](e,a){e.culture.data=a}},actions:{["SIGN_OUT"]({commit:e}){pu(),e("SET_USER",null)},async["SEND_EMAIL_CHANGE_PASSWORD"](e,{email:a}){try{await O.post("v1/login/password/forgot",{email:a}),A.Am.success("Email de recuperação enviado com sucesso")}catch(t){throw A.Am.error("Falha ao enviar email de recuperação"),Error(t?.response?.data?.error)}},async["LOGIN_USER"]({commit:e},a){try{const{data:t}=await O.post("v1/login/sign-in",a),o=t?.data?.accessToken,r=t?.data?.userName;if(o){mu(o);const a={login:r,token:o};return e("SET_USER",a),await yu.dispatch("GET_PROFILE",o),!0}}catch(t){A.Am.error("Credenciais inválidas"),console.error(t)}},async["UPDATE_SHOW_PER_BACIN"]({commit:e},a){e("SET_SHOW_PER_BACIN",a)},async["FETCH_CENSUS"](){try{const{data:e}=await O.get("/user");return!0}catch(e){console.error(e)}},async["FETCH_BODIES_OPTIONS"]({commit:e}){try{const a=[{Id:1,Name:"INMET",Host:"127.0.0.1",User:"root",Password:"1234567"},{Id:2,Name:"FUNCEME",Host:"139.0.0.1",User:"root",Password:"7654321"}];e("SET_BODIES_OPTIONS",{data:a})}catch(a){console.error(a)}},async["FETCH_EQUIPMENT_TYPE_OPTIONS"]({commit:e}){try{const a=[{Id:1,Name:"station",Title:"Estação"},{Id:2,Name:"pluviometer",Title:"Pluviômetro"}];e("SET_TYPES_EQUIPMENTS_OPTIONS",{data:a})}catch(a){console.error(a)}},async["FETCH_GENERAL_REPORTS"]({commit:e}){try{const a=e=>e.map((e=>({value:e["Id"],title:e["Local"],IdBacia:e["IdBacia"]||e["Id"]}))),{data:t}=await O.get("/census/locations");let[o,r]=[t.data.Bacia,t.data.Municipio];return[o,r]=[a(o),a(r)],e("SET_OPTIONS",{basins:o,cities:r}),!0}catch(a){console.error(a)}},async["CREATE_USER"]({commit:e},a){try{await O.post("v1/user/register/",a),A.Am.success("Usuário criado com sucesso"),A.Am.success(`Email enviado para ${du(a.email)}`)}catch(t){throw A.Am.error("Falha ao criar usuário"),console.error(t),Error(t?.response?.data?.error)}},async["CREATE_EQUIPMENT"]({commit:e},a){try{const e=J(a);await O.post("v1/equipments/",e),A.Am.success("Equipamento criado com sucesso")}catch(t){throw A.Am.error("Falha ao criar equipamento"),console.error(t),Error(t?.response?.data?.error)}},async["DELETE_USERS"]({commit:e},a){try{await Promise.allSettled(a.map((async e=>await O.delete(`v1/user/delete?id=${e}`)))),A.Am.success("Sucesso ao deletar usuário(s)")}catch(t){A.Am.error("Falha ao deletar usuário(s)"),console.error(t)}},async["DELETE_EQUIPMENTS"]({commit:e},a){try{await Promise.allSettled(a.map((async e=>await O.delete(`v1/equipments/${e}`)))),A.Am.success("Sucesso ao deletar equipamento(s)")}catch(t){A.Am.error("Falha ao deletar equipamento(s)"),console.error(t)}},async["UPDATE_USER"]({state:e},a){try{await O.put(`v1/user/${e.currentUser?.id}`,a),A.Am.success("Dados de usuário atualizados com sucesso")}catch(t){throw A.Am.error("Falha ao atualizar usuário"),console.error(t),Error(t?.response?.data?.error)}},async["UPDATE_STATION_READ"]({state:e},a){try{const e={...a,Time:F(a.Time),Hour:U(a.Time)};await O.put(`v1/equipments/measures/station/${a?.IdRead}`,e),A.Am.success("Dados de leitura atualizados com sucesso")}catch(t){throw A.Am.error("Falha ao atualizar dados de leitura"),console.error(t),Error(t?.response?.data?.error)}},async["UPDATE_PLUVIOMETER_READ"]({state:e},a){try{const e={...a,Time:F(a.Time),Hour:U(a.Time)};await O.put(`v1/equipments/measures/pluviometer/${a?.IdRead}`,e),A.Am.success("Dados de leitura atualizados com sucesso")}catch(t){throw A.Am.error("Falha ao atualizar dados de leitura"),console.error(t),Error(t?.response?.data?.error)}},async["UPDATE_BODY"]({state:e},a){try{A.Am.success(" com sucesso")}catch(t){throw A.Am.error("Falha ao atualizar usuário"),console.error(t),Error(t?.response?.data?.error)}},async["UPDATE_PROFILE"]({state:e,commit:a},t){try{await O.put("v1/user/profile/",{...e.profile,email:t.email,name:t.name,login:t.login});const o={...e.auth,login:t.name};a("SET_USER",o),A.Am.success("Dados de usuário atualizados com sucesso")}catch(o){throw A.Am.error("Falha ao atualizar dados"),A.Am.error(o?.response?.data?.error),console.error(o),Error(o?.response?.data?.error)}},async["UPDATE_EQUIPMENT"]({state:e,commit:a},t){try{const e=J(t);await O.put(`v1/equipments/${e.Id}`,e),A.Am.success("Dados do equipamento atualizados com sucesso")}catch(o){throw A.Am.error("Falha ao atualizar dados"),A.Am.error(o?.response?.data?.error),console.error(o),Error(o?.response?.data?.error)}},async["CHANGE_PASSWORD"](e,a){try{return await O.post("v1/login/password/reset",{...a,token:`Bearer ${a.token}`},K(a.token)),A.Am.success("Senha atualizada com sucesso"),!0}catch(t){throw A.Am.error("Erro ao alterar senha"),A.Am.error(t?.response?.data?.error),Error(t?.response?.data?.error)}},async["GET_CURRENT_USER"]({commit:e},a){try{const{data:{data:t}}=await O.get(`v1/user/list?userId=${a}`);if(e("SET_CURRENT_USER",t),!t)throw new Error("Usuário não encontrado")}catch(t){throw new Error("Usuário não encontrado")}},async["GET_CURRENT_BODY"]({state:e,commit:a,dispatch:t},o){try{await t("FETCH_BODIES_OPTIONS");const r=e.metereologicalBodies.data.find((e=>e.Id==o));a("SET_CURRENT_BODY",r)}catch(r){console.error(r)}},async["GET_CURRENT_EQUIPMENT"]({state:e,commit:a,dispatch:t},o){try{const{data:{data:e}}=await O.get(`v1/equipments?equipmentId=${o}`);a("SET_CURRENT_EQUIPMENT",z(e))}catch(r){console.error(r)}},async["GET_CURRENT_STATION_READ"]({commit:e},a){try{const{data:{data:t}}=await O.get(`v1/equipments/measures/station/${a}`),o=Y(t,"Value"),r={...o,Time:I(o.Time,o.Hour)};e("SET_CURRENT_STATION_READ",r)}catch(t){console.error(t)}},async["GET_CURRENT_PLUVIOMETER_READ"]({state:e,commit:a,dispatch:t},o){try{const{data:{data:e}}=await O.get(`v1/equipments/measures/pluviometer/${o}`),t=Y(e,"Value"),r={...t,Time:I(t.Time,t.Hour)};a("SET_CURRENT_PLUVIOMETER_READ",r)}catch(r){console.error(r)}},async["GET_PROFILE"]({commit:e},a){try{a&&a.length&&W(a);const{data:{data:t}}=await O.get("v1/user/profile");if(a){const o={login:t.name,token:a};e("SET_USER",o)}e("SET_CURRENT_PROFILE",t)}catch(t){pu(),A.Am.error("Erro de autenticação")}},async["GET_USERS"]({commit:e}){try{const{data:{data:a}}=await O.get("v1/user/list");e("SET_USERS",{data:a,totalAdmins:a.filter((e=>"admin"===e.type)).length,totalBasics:a.filter((e=>"admin"!==e.type)).length,totalActives:0,totalInactives:0})}catch(a){A.Am.error("Erro ao buscar usuários")}},async["GET_EQUIPMENTS"]({commit:e}){try{const{data:{data:{Equipments:a}}}=await O.get("v1/equipments/");a.map(z),e("SET_EQUIPMENTS",{data:a,totalPluviometers:a.filter((e=>"Pluviômetro"===e.NomeTipoEquipamento)).length,totalStations:a.filter((e=>"Estação"===e.NomeTipoEquipamento)).length})}catch(a){console.error(a),A.Am.error("Erro ao buscar equipamentos")}},async["GET_STATION_READS"]({state:e,commit:a,dispatch:t},o={}){try{const e={idEquipment:o._itemId,start:o.start,end:o.end,pageNumber:o.pageNumber,limit:ue},{data:{data:{Measures:r,QtdPages:l,QtdRows:i,PageLimitRows:s}}}=await O.get(`v1/equipments/measures/stations${q(e)}`);await t("GET_EQUIPMENT_NAME_FORMATTED",e.idEquipment),a("SET_STATION_READS",{data:r.map((e=>(e.hasMissingColumn=H({...e},"Value"),e.id=e.IdRead,e.FullTime=I(e.Time,e.Hour),e))),apiPagination:{pages:l,total:i,pageLimit:s}})}catch(r){console.error(r),A.Am.error("Erro ao buscar dados de leitura")}},async["GET_EQUIPMENT_NAME_FORMATTED"]({state:e,commit:a,dispatch:t},o){await t("GET_CURRENT_EQUIPMENT",o);const{Organ:r,NomeTipoEquipamento:l,Name:i}=e.currentEquipment,s=`${l} ${r} | ${i}`;a("SET_PAGE_TITLE",s)},async["GET_PLUVIOMETER_READS"]({state:e,commit:a,dispatch:t},o={}){try{const e={idEquipment:o._itemId,start:o.start,end:o.end,limit:ue,pageNumber:o.pageNumber};await t("GET_EQUIPMENT_NAME_FORMATTED",e.idEquipment);const{data:{data:{Measures:r,QtdPages:l,QtdRows:i,PageLimitRows:s}}}=await O.get(`v1/equipments/measures/pluviometers${q(e)}`);a("SET_PLUVIOMETER_READS",{data:r.map((e=>(e.id=e.IdRead,e.hasMissingColumn=H({...e},"Value"),e.FullTime=I(e.Time,e.Hour),e))),apiPagination:{pages:l,total:i,pageLimit:s}})}catch(r){console.error(r),A.Am.error("Erro ao buscar dados de leitura")}},async["INITIAL_REGISTER"]({commit:e},a){try{const{token:t,...o}=a,{data:{data:r}}=await O.post("/login/sign-up",o,K(t));if(r){const a={login:r.userName,token:t};W(a.token),e("SET_USER",a)}A.Am.success("Sucesso ao finalizar edição de usuário")}catch(t){throw A.Am.error("Erro ao finalizar edição de usuário"),A.Am.error(t?.response?.data?.error),Error(t?.response?.data?.error)}}},getters:{bodiesOptions(e){const a=e=>e.map((e=>({value:e["Id"],title:e["Name"]})));return[se,...a(e.metereologicalBodies.data)]},equipmentTypeOptions(e){const a=e=>e.map((e=>({value:e["Id"],title:e["Title"],key:e["Name"]})));return[se,...a(e.typesEquipments.data)]},equipmentOptions(e){const a=e=>e.map((e=>{const a=["Name","Code"].map((a=>e[a])).join(" - ");return{value:e["Id"],title:a,id:e["Id"]}}));return a(e.equipments.data)}}}));var vu=yu;const gu=Bn,fu=(0,y.p7)({history:(0,y.r5)(),routes:gu});fu.beforeEach((async(e,a,t)=>{let o=vu.state.auth,r=vu.state.profile;const l={"initial-register-infos":!0,login:!0,"change-password":!0,"retrieve-account":!0},i=cu();!o&&i&&(await vu.dispatch("GET_PROFILE",i),o=vu.state.auth,r=vu.state.profile),await vu.dispatch("CLEAR_PAGE_TITLE");const s=e.meta.modulesNeeded;r&&s&&!r?.modules?.[s[0]][s[1]]?"/"==a.path&&(A.Am.error("Sem permissão para acessar este módulo"),setTimeout((()=>{fu.push("reports")}),3e3)):l[e.name]||o?t():t("/login")}));const hu="SEAI";fu.afterEach(((e,a)=>{const t=gu.find((a=>a.path===e.path)),o=document;o.title=[e.meta.title,hu].filter((e=>e)).join(" - ");const r=t?.meta?.navBarTab??-1;vu.commit("SET_CURRENT_TAB",r)}));var bu=fu,_u=t(3494),Tu=t(7729),Eu=t(6709),Su=t(898),wu=t(7749),Cu=t(8539),Pu=t(3585);_u.vI.add(Cu.BC0,Cu.r8p,Cu.QDM,Cu.IwR,Cu.$aW,Cu.HEx),(0,o.ri)(Yn).component("font-awesome-icon",wu.GN).use(yu).use(bu).directive("tooltip",Pu.Z).use(Tu.ZP,{locale:{dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]}}).use(Qn()).component("InputText",Eu.Z).component("Calendar",Gt.Z).component("InputNumber",Su.Z).mount("#app")}},a={};function t(o){var r=a[o];if(void 0!==r)return r.exports;var l=a[o]={id:o,loaded:!1,exports:{}};return e[o].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}t.m=e,function(){var e=[];t.O=function(a,o,r,l){if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],r=e[d][1],l=e[d][2];for(var s=!0,n=0;n<o.length;n++)(!1&l||i>=l)&&Object.keys(t.O).every((function(e){return t.O[e](o[n])}))?o.splice(n--,1):(s=!1,l<i&&(i=l));if(s){e.splice(d--,1);var u=r();void 0!==u&&(a=u)}}return a}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[o,r,l]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){var e,a=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};t.t=function(o,r){if(1&r&&(o=this(o)),8&r)return o;if("object"===typeof o&&o){if(4&r&&o.__esModule)return o;if(16&r&&"function"===typeof o.then)return o}var l=Object.create(null);t.r(l);var i={};e=e||[null,a({}),a([]),a(a)];for(var s=2&r&&o;"object"==typeof s&&!~e.indexOf(s);s=a(s))Object.getOwnPropertyNames(s).forEach((function(e){i[e]=function(){return o[e]}}));return i["default"]=function(){return o},t.d(l,i),l}}(),function(){t.d=function(e,a){for(var o in a)t.o(a,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:a[o]})}}(),function(){t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce((function(a,o){return t.f[o](e,a),a}),[]))}}(),function(){t.u=function(e){return"js/"+e+".f9bc5481.js"}}(),function(){t.miniCssF=function(e){}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={},a="frontend:";t.l=function(o,r,l,i){if(e[o])e[o].push(r);else{var s,n;if(void 0!==l)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var c=u[d];if(c.getAttribute("src")==o||c.getAttribute("data-webpack")==a+l){s=c;break}}s||(n=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,t.nc&&s.setAttribute("nonce",t.nc),s.setAttribute("data-webpack",a+l),s.src=o),e[o]=[r];var m=function(a,t){s.onerror=s.onload=null,clearTimeout(p);var r=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(t)})),a)return a(t)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),n&&document.head.appendChild(s)}}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){t.p=""}(),function(){var e={143:0};t.f.j=function(a,o){var r=t.o(e,a)?e[a]:void 0;if(0!==r)if(r)o.push(r[2]);else{var l=new Promise((function(t,o){r=e[a]=[t,o]}));o.push(r[2]=l);var i=t.p+t.u(a),s=new Error,n=function(o){if(t.o(e,a)&&(r=e[a],0!==r&&(e[a]=void 0),r)){var l=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;s.message="Loading chunk "+a+" failed.\n("+l+": "+i+")",s.name="ChunkLoadError",s.type=l,s.request=i,r[1](s)}};t.l(i,n,"chunk-"+a,a)}},t.O.j=function(a){return 0===e[a]};var a=function(a,o){var r,l,i=o[0],s=o[1],n=o[2],u=0;if(i.some((function(a){return 0!==e[a]}))){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(n)var d=n(t)}for(a&&a(o);u<i.length;u++)l=i[u],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(d)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(3100)}));o=t.O(o)})();
//# sourceMappingURL=app.6eb6c584.js.map